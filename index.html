<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="–õ–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π 8-–º–µ—Å—è—á–Ω—ã–π —Ç—Ä–µ–∫–µ—Ä –æ–±—É—á–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ: —Ü–µ–ª–∏, —Ä–µ—Å—É—Ä—Å—ã, –ø–æ–¥–∑–∞–¥–∞—á–∏, –∑–∞–º–µ—Ç–∫–∏, —Ñ–∞–π–ª—ã –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å.">
  <meta property="og:title" content="–¢—Ä–µ–∫–µ—Ä –æ–±—É—á–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É (8 –º–µ—Å—è—Ü–µ–≤)">
  <meta property="og:description" content="–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–Ω –Ω–∞ 196 –¥–Ω–µ–π —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º, –∑–∞–º–µ—Ç–∫–∞–º–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="ru_RU">
  <title>–ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É - 8 –º–µ—Å—è—Ü–µ–≤</title>
  <style>
    :root {
      --bg-primary: #1a1f2e;
      --bg-secondary: #242938;
      --bg-tertiary: #2d3447;
      --bg-card: #353b4e;
      --text-primary: #e8eaed;
      --text-secondary: #b8bcc4;
      --text-muted: #8b92a1;
      --border-color: rgba(99, 179, 237, 0.2);
      --gradient-primary: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
      --gradient-accent: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
      --shadow-color: rgba(0, 0, 0, 0.4);
      --glow: rgba(59, 130, 246, 0.3);
      --accent-color: #3b82f6;
      --radius-xs: 6px;
      --radius-s: 10px;
      --radius-m: 16px;
      --radius-l: 24px;
      --transition: .35s cubic-bezier(.4,0,.2,1);
      --focus-ring: 0 0 0 3px rgba(139,92,246,.5);
      --accent-gradient-faded: linear-gradient(135deg, rgba(59,130,246,.25), rgba(139,92,246,.25));
    }

    @media (prefers-color-scheme: light) {
      :root {
        --bg-primary: #f8f9fc;
        --bg-secondary: #ffffff;
        --bg-tertiary: #f1f3f9;
        --bg-card: #e8ebf3;
        --text-primary: #1e293b;
        --text-secondary: #475569;
        --text-muted: #64748b;
        --border-color: rgba(59, 130, 246, 0.15);
        --shadow-color: rgba(0, 0, 0, 0.06);
        --glow: rgba(59, 130, 246, 0.2);
        --accent-color: #3b82f6;
      }
    }

    body[data-theme="dark"] {
      --bg-primary: #1a1f2e;
      --bg-secondary: #242938;
      --bg-tertiary: #2d3447;
      --bg-card: #353b4e;
      --text-primary: #e8eaed;
      --text-secondary: #b8bcc4;
      --text-muted: #8b92a1;
      --border-color: rgba(99, 179, 237, 0.2);
      --shadow-color: rgba(0, 0, 0, 0.4);
      --glow: rgba(59, 130, 246, 0.3);
      --accent-color: #3b82f6;
    }

    body[data-theme="light"] {
      --bg-primary: #f8f9fc;
      --bg-secondary: #ffffff;
      --bg-tertiary: #f1f3f9;
      --bg-card: #e8ebf3;
      --text-primary: #1e293b;
      --text-secondary: #475569;
      --text-muted: #64748b;
      --border-color: rgba(59, 130, 246, 0.15);
      --shadow-color: rgba(0, 0, 0, 0.06);
      --glow: rgba(59, 130, 246, 0.2);
      --accent-color: #3b82f6;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg-primary);
      min-height: 100vh;
      padding: 20px;
      transition: background 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .container {
      max-width: 1440px;
      margin: 0 auto;
      background: var(--bg-secondary);
      border-radius: 32px;
      overflow: hidden;
      box-shadow: 0 40px 100px var(--shadow-color);
      border: 1px solid var(--border-color);
    }

    .header {
      background: var(--gradient-primary);
      color: white;
      padding: 60px 40px;
      text-align: center;
      position: relative;
    }

    .header h1 {
      font-size: 3em;
      margin-bottom: 16px;
      font-weight: 900;
      letter-spacing: -0.02em;
    }

    .header p {
      font-size: 1.2em;
      font-weight: 500;
    }

    .theme-toggle {
      position: absolute;
      top: 24px;
      right: 24px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 12px 18px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 20px;
      z-index: 10;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .theme-toggle:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: scale(1.05) rotate(15deg);
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 24px;
      padding: 32px;
      background: var(--bg-primary);
    }

    .stat {
      background: var(--bg-tertiary);
      padding: 32px;
      border-radius: 20px;
      text-align: center;
      border: 1px solid var(--border-color);
      transition: all 0.3s;
    }

    .stat:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px var(--glow);
    }

    .stat h3 {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 2px;
      font-weight: 700;
    }

    .stat .num {
      font-size: 48px;
      font-weight: 900;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      position: relative;
    }
    /* –ö–∞—Ç–µ–≥–æ—Ä–∏–π–Ω–∞—è —Å–≤–æ–¥–∫–∞ */
    .categories-summary { display:grid; grid-template-columns: repeat(auto-fill,minmax(180px,1fr)); gap:16px; padding:0 32px 32px; }
    .cat-card { background: var(--bg-tertiary); border:1px solid var(--border-color); border-radius:16px; padding:14px 16px 18px; position:relative; overflow:hidden; display:flex; flex-direction:column; gap:8px; }
    .cat-card h4 { margin:0; font-size:13px; font-weight:700; letter-spacing:.5px; color: var(--text-secondary); text-transform:uppercase; }
    .cat-metric { font-size:20px; font-weight:800; color: var(--text-primary); }
    .cat-bar { height:6px; background: var(--bg-card); border-radius:4px; overflow:hidden; position:relative; }
    .cat-bar span { display:block; height:100%; width:0; background: var(--gradient-primary); transition: width .6s ease; }
    .cat-pct { font-size:11px; font-weight:600; color: var(--text-muted); letter-spacing:.5px; }
    .cat-card.highlight { box-shadow:0 0 0 1px #8b5cf6, 0 0 0 4px rgba(139,92,246,.25); }

    .progress-bar {
      height: 48px;
      background: var(--bg-tertiary);
      margin: 32px;
      border-radius: 24px;
      overflow: hidden;
      border: 1px solid var(--border-color);
      position: relative;
      box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .progress-fill {
      height: 100%;
      background: var(--gradient-primary);
      transition: width 0.6s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 16px;
    }

    .controls {
      padding: 24px 32px;
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      background: var(--bg-primary);
      border-bottom: 1px solid var(--border-color);
    }

    input {
      flex: 1;
      min-width: 240px;
      padding: 14px 20px;
      border: 1px solid var(--border-color);
      border-radius: 12px;
      background: var(--bg-tertiary);
      color: var(--text-primary);
      font-size: 15px;
      transition: all 0.3s;
      font-weight: 500;
    }

    input:focus {
      outline: none;
      border-color: #8b5cf6;
      box-shadow: 0 0 0 4px var(--glow);
      transform: translateY(-2px);
    }

    input::placeholder {
      color: var(--text-muted);
    }

    button {
      padding: 14px 24px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 700;
      font-size: 14px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      letter-spacing: 0.5px;
    }
    button:focus-visible, input:focus-visible, textarea:focus-visible { outline: none; box-shadow: var(--focus-ring); }

    .btn-filter {
      background: var(--bg-card);
      color: var(--text-muted);
      border: 1px solid var(--border-color);
    }

    .btn-filter:hover {
      background: var(--bg-tertiary);
      transform: translateY(-3px);
      box-shadow: 0 8px 16px var(--shadow-color);
    }

    .btn-filter.active {
      background: var(--gradient-primary);
      color: white;
      border-color: transparent;
      box-shadow: 0 8px 24px var(--glow);
    }

    .btn-reset {
      background: var(--gradient-accent);
      color: white;
    }

    .btn-reset:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 24px rgba(245, 87, 108, 0.4);
    }

    .content {
      padding: 32px;
      background: var(--bg-primary);
    }

    .month {
      margin-bottom: 40px;
      border: 1px solid var(--border-color);
      border-radius: 24px;
      overflow: hidden;
      background: var(--bg-secondary);
      transition: all 0.3s;
    }

    .month:hover {
      box-shadow: 0 12px 40px var(--shadow-color);
    }

    .month-header {
      background: var(--gradient-primary);
      color: white;
      padding: 32px 36px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.3s;
    }

    .month-header-inner { display:flex; align-items:center; gap:22px; }
    .month-ring { --p:0; width:58px; height:58px; border-radius:50%; background: conic-gradient(#8b5cf6 calc(var(--p)*1%), rgba(255,255,255,.08) 0); position:relative; display:flex; align-items:center; justify-content:center; font-size:11px; font-weight:700; letter-spacing:.5px; }
    .month-ring::after { content:""; position:absolute; inset:6px; background:rgba(0,0,0,.25); border-radius:50%; backdrop-filter: blur(2px); }
    .month-ring span { position:relative; z-index:2; color:#fff; }

    .month-header:hover {
      filter: brightness(1.1);
    }

    .month-title {
      font-size: 1.8em;
      font-weight: 800;
      letter-spacing: -0.02em;
    }

    .week {
      border-bottom: 1px solid var(--border-color);
    }

    .week:last-child {
      border-bottom: none;
    }

    .week-header {
      background: var(--bg-tertiary);
      padding: 20px 28px;
      font-weight: 700;
      color: var(--text-primary);
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      transition: all 0.3s;
      border-left: 4px solid transparent;
    }

    .week-header:hover {
      background: var(--bg-card);
      border-left-color: #8b5cf6;
      padding-left: 32px;
    }
    .week-header:focus-visible { outline:none; box-shadow: var(--focus-ring); }
    .week-progress { margin:0 24px 18px 24px; height:10px; background: var(--bg-tertiary); border:1px solid var(--border-color); border-radius:14px; position:relative; overflow:hidden; }
    .week-progress span { position:absolute; left:0; top:0; bottom:0; width:0; background: var(--gradient-primary); display:block; transition: width .6s cubic-bezier(.4,0,.2,1); }
    .week-progress::after { content:attr(data-label); position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size:10px; font-weight:600; color: var(--text-secondary); mix-blend-mode: difference; pointer-events:none; }

    .week-desc {
      background: var(--bg-secondary);
      padding: 18px 28px 6px 28px;
      font-size: 0.9em;
      line-height: 1.6;
      color: var(--text-secondary);
      border-left: 4px solid var(--accent-color);
      border-bottom: 1px solid var(--border-color);
    }

    .days {
      padding: 24px;
      background: var(--bg-secondary);
    }

    .day {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-left: 4px solid var(--accent-color);
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 20px;
      transition: all 0.3s;
    }

    .day:hover {
      transform: translateX(6px);
      box-shadow: 0 12px 24px var(--glow);
    }

    .day.done {
      background: rgba(34, 197, 94, 0.08);
      border-left-color: #22c55e;
    }

    .day-header {
      display: flex;
      gap: 18px;
      margin-bottom: 16px;
      align-items: flex-start;
    }

    .day-header input {
      width: 26px;
      height: 26px;
      cursor: pointer;
      margin-top: 2px;
      accent-color: #8b5cf6;
      border-radius: 6px;
    }

    .day-info {
      flex: 1;
    }

    .day-title {
      font-weight: 800;
      font-size: 1.15em;
      color: var(--text-primary);
      margin-bottom: 10px;
      letter-spacing: -0.01em;
    }

    .day-time {
      display: inline-block;
      background: var(--gradient-primary);
      color: white;
      padding: 6px 14px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 800;
      margin-left: 10px;
      letter-spacing: 0.5px;
    }

    .day-task {
      color: var(--text-secondary);
      line-height: 1.8;
      margin: 14px 0;
      font-size: 0.98em;
    }

    /* –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏ (–º–µ—Å—è—Ü/–Ω–µ–¥–µ–ª—è/–¥–µ–Ω—å) */
    .month-objectives, .week-objectives { background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 14px; padding: 14px 18px; margin: 12px 0 20px; }
    .month-objectives strong, .week-objectives strong { color: var(--text-primary); }
    .month-objectives .mo-goal, .week-objectives .wg-goal { color: var(--text-secondary); font-size: 0.9em; line-height: 1.5; margin-bottom: 8px; }
    .month-objectives ul, .week-objectives ul { list-style: disc; margin: 0 0 0 18px; padding: 0; color: var(--text-secondary); font-size: 0.85em; line-height: 1.4; }
    .day-goal-line { color: var(--text-secondary); font-size: 0.85em; margin-top: 4px; }
    .day-tasks-list { list-style: square; margin: 6px 0 4px 18px; padding: 0; color: var(--text-secondary); font-size: 0.8em; line-height: 1.4; }
    .day-tasks-list li { margin: 2px 0; }

    body[data-theme="dark"] .month-objectives ul,
    body[data-theme="dark"] .week-objectives ul,
    body[data-theme="dark"] .day-tasks-list,
    body[data-theme="dark"] .month-objectives .mo-goal,
    body[data-theme="dark"] .week-objectives .wg-goal,
    body[data-theme="dark"] .day-goal-line { color: var(--text-secondary); }

    .day-resources {
      margin-top: 18px;
      padding-top: 18px;
      border-top: 1px solid var(--border-color);
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .day-resources a {
      display: inline-block;
      color: #a78bfa;
      text-decoration: none;
      font-size: 14px;
      font-weight: 700;
      padding: 8px 16px;
      background: rgba(139, 92, 246, 0.08);
      border-radius: 10px;
      border: 1px solid rgba(139, 92, 246, 0.2);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .day-resources a:hover {
      background: rgba(139, 92, 246, 0.15);
      border-color: rgba(139, 92, 246, 0.5);
      transform: translateY(-3px);
      box-shadow: 0 8px 16px var(--glow);
    }

    /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–∑–∞–º–µ—Ç–∫–∏ –∏ –≤–ª–æ–∂–µ–Ω–∏—è) */
    .day-extra {
      margin-top: 14px;
      padding-top: 14px;
      border-top: 1px dashed var(--border-color);
      display: flex;
      flex-direction: column;
      gap: 14px;
    }
    .note-block textarea {
      width: 100%;
      min-height: 90px;
      resize: vertical;
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 10px;
      padding: 10px 14px;
      color: var(--text-primary);
      font-family: inherit;
      font-size: 14px;
      line-height: 1.5;
      transition: border .25s, background .25s;
    }
    .note-block textarea:focus { outline: none; border-color: #8b5cf6; box-shadow: 0 0 0 3px var(--glow); }
    .attachments-block {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .attach-links, .attach-files { display: flex; flex-wrap: wrap; gap: 8px; }
    .attach-links input[type="text"], .attach-links input[type="url"] {
      flex: 1 1 180px;
      min-width: 160px;
      padding: 8px 12px;
      border: 1px solid var(--border-color);
      background: var(--bg-secondary);
      border-radius: 8px;
      color: var(--text-primary);
      font-size: 13px;
    }
    .attach-links button, .user-links button, .user-files button {
      background: var(--gradient-primary);
      color: #fff;
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      transition: .3s;
    }
    .attach-links button:hover, .user-links button:hover, .user-files button:hover { filter: brightness(1.1); }
    .user-links, .user-files { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 6px; }
    .user-links li, .user-files li { display: flex; align-items: center; gap: 8px; background: var(--bg-secondary); padding: 6px 10px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 13px; }
    .user-links li button.x-btn, .user-files li button.x-btn { margin-left:auto; }
    .user-links a { color: #60a5fa; text-decoration: none; font-weight: 600; }
    .user-files a { color: #34d399; text-decoration: none; font-weight: 600; }
    /* –ó–∞–º–µ—Ç–∫–∏ (—Å–ø–∏—Å–æ–∫) */
    #content .note-block ul li { background: var(--bg-secondary); border:1px solid var(--border-color); padding:6px 10px; border-radius:8px; font-size:12px; display:flex; align-items:center; gap:8px; }
    #content .note-block ul li .note-text { flex:1; color: var(--text-primary); }
  /* –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (—É–º–µ–Ω—å—à–µ–Ω–∞) */
  .del-btn { background: #ef4444 !important; font-size: 12px; width: 26px; height: 26px; display: inline-flex; align-items: center; justify-content: center; border-radius: 8px; box-shadow: 0 2px 6px rgba(239,68,68,.25); }
  .del-btn:hover { filter: brightness(1.15); transform: translateY(-2px); }
    .file-size { color: var(--text-muted); font-size: 11px; margin-left: auto; }
    .attach-hint { font-size: 11px; color: var(--text-muted); }
    .inline-badge { background: rgba(139,92,246,.15); color: #a78bfa; font-size: 10px; padding: 2px 6px; border-radius: 6px; font-weight: 600; letter-spacing: .5px; }
  /* –ö–Ω–æ–ø–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ ‚Äî —É–ª—É—á—à–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å */
  .materials-toggle { margin-top: 10px; display: inline-flex; align-items: center; gap: 6px; cursor: pointer; font-size: 12px; font-weight: 600; background: linear-gradient(135deg, rgba(139,92,246,.35), rgba(167,139,250,.2)); color: #c4b5fd; padding: 6px 14px 6px 10px; border-radius: 18px; border: 1px solid rgba(167,139,250,.55); transition: background .35s, box-shadow .35s, border-color .35s; position: relative; }
  .materials-toggle:hover { background: linear-gradient(135deg, rgba(139,92,246,.5), rgba(167,139,250,.32)); box-shadow: 0 4px 14px var(--glow); }
  .materials-toggle.open { background: linear-gradient(135deg, rgba(139,92,246,.6), rgba(167,139,250,.45)); color: #fff; }
  .materials-toggle span.arrow { transition: transform .35s cubic-bezier(.4,0,.2,1); display: inline-block; font-size: 13px; }
  .materials-toggle.open span.arrow { transform: rotate(90deg); }
  .materials-toggle .mat-badges { display: inline-flex; gap: 4px; margin-left: 4px; }
  .mat-badge { background: rgba(0,0,0,.25); color: #fff; font-size: 10px; padding: 2px 6px; border-radius: 10px; line-height: 1; font-weight: 600; letter-spacing: .5px; display: inline-flex; align-items: center; gap: 2px; }
  .mat-badge.link { background: rgba(96,165,250,.35); color: #bfdbfe; }
  .mat-badge.file { background: rgba(52,211,153,.35); color: #d1fae5; }
  .mat-badge.note { background: rgba(251,191,36,.35); color: #fef3c7; }
  .materials-toggle.open .mat-badge { filter: brightness(1.15); }
  /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –±–ª–æ–∫–∞ */
  .day-extra { animation: none; }
  .day-extra.fade-in { animation: fadeSlide .35s ease; }
  @keyframes fadeSlide { from { opacity: 0; transform: translateY(-6px); } to { opacity: 1; transform: translateY(0); } }
  .day-extra.collapsed { display: none; }
  /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è —Å–µ–∫—Ü–∏–∏ (–ø–æ–¥–∑–∞–¥–∞—á–∏, –∑–∞–º–µ—Ç–∫–∏, –≤–ª–æ–∂–µ–Ω–∏—è) */
  .section-toggle { width:100%; text-align:left; background: var(--bg-card); color: var(--text-secondary); padding:8px 12px; border:1px solid var(--border-color); border-radius:8px; font-size:12px; font-weight:600; letter-spacing:.5px; display:flex; align-items:center; gap:6px; cursor:pointer; transition:.25s; }
  .section-toggle:hover { background: var(--bg-tertiary); }
  .section-toggle.open { background: var(--bg-card); color: var(--text-secondary); }
  .section-toggle .arrow { display:none; }
  .section-toggle.open .arrow { display:none; }
  .section-body { margin-top:8px; }
  .section-body.collapsed { display:none; }
  .st-progress { margin-left:auto; background:rgba(0,0,0,.25); padding:2px 6px; border-radius:6px; font-size:10px; font-weight:700; color:#fff; }
  .section-toggle.open .st-progress { background:rgba(255,255,255,.25); }
  /* –ü–æ–¥–∑–∞–¥–∞—á–∏ –≤–Ω—É—Ç—Ä–∏ –¥–Ω—è */
  .day-subtasks { margin: 4px 0 10px; padding: 10px 12px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 10px; }
  .day-subtasks h5 { margin: 0 0 8px; font-size: 12px; letter-spacing: .5px; font-weight: 700; color: var(--text-secondary); display:flex; align-items:center; gap:6px; }
  .subtask-list { list-style: none; margin: 0; padding: 0; display: flex; flex-direction: column; gap: 6px; }
  .subtask-item { display:flex; align-items:center; gap:8px; font-size:12px; }
  .subtask-item input[type="checkbox"] { cursor:pointer; accent-color:#8b5cf6; width:18px; height:18px; flex:0 0 auto; }
  .subtask-box { flex:1; display:flex; align-items:center; gap:8px; background:var(--bg-primary); border:1px solid var(--border-color); border-radius:8px; padding:6px 10px; min-height:34px; transition:border-color .25s; }
  .subtask-item.done .subtask-box { opacity:.65; text-decoration:line-through; }
  .subtask-box:hover { border-color:#8b5cf6; }
  .subtask-box button { background:none; border:none; color:var(--text-secondary); font-size:14px; padding:2px 6px; border-radius:4px; cursor:pointer; line-height:1; }
  .subtask-box button { background:none; border:none; color:var(--text-secondary); font-size:14px; padding:2px 6px; border-radius:4px; cursor:pointer; line-height:1; }
  .subtask-box button:hover { color:#ef4444; background:rgba(239,68,68,.08); }
  [data-theme="dark"] .subtask-box button { color:var(--text-muted); }
  [data-theme="dark"] .subtask-box button:hover { color:#f87171; }
  .subtask-box span { flex:1; }
  .subtask-box span { color: var(--text-primary); }
  .subtask-item.done .subtask-box span { color: var(--text-muted); }
  .subtask-box .sys-badge { font-size:9px; font-weight:600; letter-spacing:.5px; background:rgba(139,92,246,.25); color:#c4b5fd; padding:2px 5px; border-radius:6px; }
  .x-btn { background:none !important; border:none !important; color:var(--text-secondary); font-size:14px; padding:2px 6px; cursor:pointer; line-height:1; border-radius:4px; }
  .x-btn:hover { color:#ef4444; background:rgba(239,68,68,.08); }
  [data-theme="dark"] .x-btn { color:var(--text-muted); }
  [data-theme="dark"] .x-btn:hover { color:#f87171; }
  .add-subtask { display: flex; gap: 6px; margin-top: 8px; flex-wrap: wrap; }
  .add-subtask input { flex: 1 1 160px; min-width: 140px; padding: 6px 10px; border: 1px solid var(--border-color); border-radius: 8px; background: var(--bg-primary); color: var(--text-primary); font-size: 12px; }
  .add-subtask button { background: var(--gradient-primary); color: #fff; border: none; padding: 6px 14px; border-radius: 8px; font-size: 12px; font-weight: 600; cursor: pointer; }
  .add-subtask button:hover { filter: brightness(1.1); }
  .add-subtask button:focus-visible { outline:none; box-shadow: var(--focus-ring); }
  /* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è file input */
  .file-wrapper { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
  .file-wrapper input[type="file"] { display: none; }
  .file-btn { background: var(--gradient-accent); color: #fff; padding: 8px 16px; border-radius: 10px; font-size: 12px; font-weight: 600; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; box-shadow: 0 4px 12px var(--shadow-color); transition: .3s; }
  .file-btn:hover { filter: brightness(1.1); transform: translateY(-2px); }
  .file-btn:active { transform: translateY(0); }
  .attach-links button { width: 42px; justify-content: center; padding: 8px 0; }
  .attach-hint { flex: 1 1 100%; }
    @media (max-width: 600px){
      .attach-links input[type="text"], .attach-links input[type="url"] { flex: 1 1 100%; }
      .attach-links { flex-direction: column; }
    }

    .collapsed {
      display: none;
    }

    /* –ü–ª–∞–≤–∞—é—â–∞—è –ø–∞–Ω–µ–ª—å –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π */
    .quick-panel { position: fixed; bottom: 24px; right: 24px; display: flex; flex-direction: column; gap: 10px; z-index: 200; }
    .qp-btn { background: var(--accent-gradient-faded); backdrop-filter: blur(8px); border:1px solid rgba(255,255,255,.15); color: var(--text-primary); font-size:12px; font-weight:600; padding:10px 16px; border-radius: 18px; cursor:pointer; display:flex; align-items:center; gap:6px; transition: var(--transition); }
    .qp-btn:hover { background: var(--gradient-primary); color:#fff; box-shadow:0 8px 24px var(--glow); }
    .qp-btn:focus-visible { outline:none; box-shadow: var(--focus-ring); }
    @media (max-width: 880px){ .quick-panel { right:12px; bottom:12px; } .qp-btn { padding:8px 12px; font-size:11px; } }
  .qp-small { font-size:10px; background: var(--bg-secondary); opacity:.85; }
  .storage-usage { background: var(--bg-tertiary); border:1px solid var(--border-color); padding:4px 8px; border-radius:10px; font-size:10px; font-weight:600; color: var(--text-secondary); display:flex; gap:6px; align-items:center; }
  .storage-usage-bar { flex:1; height:6px; background: var(--bg-card); border-radius:4px; overflow:hidden; position:relative; }
  .storage-usage-bar span { position:absolute; inset:0; width:0; background: linear-gradient(90deg, #06b6d4, #3b82f6, #8b5cf6); transition: width .6s ease; }
  /* –û–±–ª–∞—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è */
  .cloud-panel { padding: 12px 32px 0; display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
  .cloud-badge { font-size:11px; font-weight:600; background: var(--bg-tertiary); padding:6px 10px; border:1px solid var(--border-color); border-radius:14px; display:flex; align-items:center; gap:6px; }
  .cloud-btn { background: var(--accent-gradient-faded); border:1px solid var(--border-color); color: var(--text-primary); font-size:11px; font-weight:600; padding:8px 12px; border-radius:10px; cursor:pointer; display:flex; align-items:center; gap:4px; transition: var(--transition); }
  .cloud-btn:hover { background: var(--gradient-primary); color:#fff; }
  .cloud-btn:disabled { opacity:.4; cursor:not-allowed; }
  .cloud-status-ok { color:#34d399; }
  .cloud-status-err { color:#f87171; }
  .cloud-status-warn { color:#fbbf24; }
  .cloud-last { font-size:10px; color: var(--text-muted); margin-left:auto; }
  .cloud-warn { flex:1 1 100%; background: rgba(239,68,68,.12); border:1px solid rgba(239,68,68,.4); color:#fca5a5; padding:6px 10px; border-radius:10px; font-size:11px; font-weight:600; }
  /* Google sign-in button compact */
  .cloud-btn-g { width:42px; padding:8px !important; display:flex; align-items:center; justify-content:center; }
  .cloud-btn-g .g-icon { width:20px; height:20px; display:block; }
  .cloud-btn-g svg { width:100%; height:100%; display:block; }

    /* –ü–ª–∞–≤–Ω–æ–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ–∫—Ü–∏–π */
    .section-body { overflow: hidden; transition: max-height .45s ease; }
    .section-body.collapsed { max-height: 0 !important; padding-top:0 !important; }
    .section-body:not(.collapsed) { max-height: 800px; }

    @media (max-width: 768px) {
      .stats {
        grid-template-columns: 1fr 1fr;
      }

      .month-title {
        font-size: 1.4em;
      }

      .header h1 {
        font-size: 2em;
      }

      .header {
        padding: 40px 24px;
      }
    }
  </style>
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <button class="theme-toggle" onclick="toggleTheme()" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåì</button>
      <h1>–ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É –Ω–∞ 8 –º–µ—Å—è—Ü–µ–≤</h1>
      <p>196 –¥–Ω–µ–π —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</p>
    </div>

    <div class="stats">
      <div class="stat">
        <h3>–í—Å–µ–≥–æ –¥–Ω–µ–π</h3>
        <div class="num">196</div>
      </div>
      <div class="stat">
        <h3>–ó–∞–≤–µ—Ä—à–µ–Ω–æ</h3>
        <div class="num" id="done">0</div>
      </div>
      <div class="stat">
        <h3>–û—Å—Ç–∞–ª–æ—Å—å</h3>
        <div class="num" id="left">196</div>
      </div>
      <div class="stat">
        <h3>–ü—Ä–æ–≥—Ä–µ—Å—Å</h3>
        <div class="num" id="pct">0%</div>
      </div>
    </div>

    <div class="progress-bar">
      <div class="progress-fill" id="bar" style="width: 0%">0%</div>
    </div>

    <div class="controls">
      <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∑–∞–¥–∞–Ω–∏—è–º...">
      <button class="btn-filter active" onclick="filter('all')">–í—Å–µ</button>
      <button class="btn-filter" onclick="filter('done')">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</button>
      <button class="btn-filter" onclick="filter('todo')">–ö –∏–∑—É—á–µ–Ω–∏—é</button>
      <button class="btn-reset" onclick="reset()">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
    </div>

    <div class="cloud-panel">
      <div class="cloud-badge" id="cloudStatus">‚òÅÔ∏è –û–±–ª–∞–∫–æ: –æ—Ñ—Ñ–ª–∞–π–Ω</div>
      <button class="cloud-btn cloud-btn-g" id="cloudGoogleBtn" type="button" onclick="cloudGoogleSignIn()" aria-label="Google –≤—Ö–æ–¥" title="Google –≤—Ö–æ–¥">
        <span class="g-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path fill="#EA4335" d="M12 10.8v3.84h5.42c-.24 1.26-.98 2.33-2.08 3.05l3.36 2.61c1.96-1.81 3.09-4.47 3.09-7.66 0-.74-.07-1.45-.2-2.14H12z"/>
            <path fill="#34A853" d="M6.56 14.32 5.8 14.9l-2.68 2.06C5.08 20.6 8.29 22.5 12 22.5c2.7 0 4.96-.9 6.61-2.45l-3.36-2.61c-.9.6-2.05.96-3.25.96-2.51 0-4.65-1.69-5.44-3.97z"/>
            <path fill="#4A90E2" d="M5.8 9.1 3.12 7.04C2.41 8.37 2 9.9 2 11.5s.41 3.13 1.12 4.46l3.44-2.66c-.2-.6-.31-1.25-.31-1.9 0-.66.11-1.3.31-1.9z"/>
            <path fill="#FBBC05" d="M12 6.5c1.47 0 2.78.51 3.81 1.5l2.85-2.85C16.95 3.76 14.7 2.9 12 2.9 8.29 2.9 5.08 4.8 3.12 7.04L5.8 9.1c.79-2.28 2.93-3.97 5.44-3.97z"/>
          </svg>
        </span>
      </button>
      <button class="cloud-btn" id="cloudAnonBtn" type="button" onclick="cloudAnonSignIn()">üë§ –ê–Ω–æ–Ω–∏–º</button>
      <button class="cloud-btn" id="cloudUploadBtn" type="button" onclick="cloudUpload()" disabled>‚¨Ü –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <button class="cloud-btn" id="cloudDownloadBtn" type="button" onclick="cloudDownload()" disabled>‚¨á –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
      <button class="cloud-btn" id="cloudMergeBtn" type="button" onclick="cloudMerge()" disabled>üîÄ –°–ª–∏—Ç—å</button>
      <div class="cloud-last" id="cloudLastSync"></div>
    </div>

    <div style="padding:0 32px 8px; display:flex; flex-wrap:wrap; gap:12px; align-items:center;">
      <div class="storage-usage" id="storageUsage">
        <span>–•—Ä–∞–Ω–∏–ª–∏—â–µ</span>
        <div class="storage-usage-bar"><span id="storageUsageBar"></span></div>
        <strong id="storageUsagePct">0%</strong>
      </div>
      <div style="margin-left:auto; display:flex; gap:8px;">
        <button class="qp-btn qp-small" type="button" onclick="exportData()">‚¨áÔ∏è –≠–∫—Å–ø–æ—Ä—Ç</button>
        <button class="qp-btn qp-small" type="button" onclick="document.getElementById('importInput').click()">‚¨ÜÔ∏è –ò–º–ø–æ—Ä—Ç</button>
        <input type="file" id="importInput" accept="application/json" style="display:none" onchange="handleImport(this)">
      </div>
    </div>

    <div class="categories-summary" id="categoriesSummary"></div>

    <div class="content" id="content"></div>
  </div>
  <div class="quick-panel" aria-label="–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è">
    <button class="qp-btn" type="button" onclick="scrollToNextIncomplete()">‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π</button>
    <button class="qp-btn" type="button" onclick="expandAll()">üîì –û—Ç–∫—Ä—ã—Ç—å –≤—Å–µ</button>
    <button class="qp-btn" type="button" onclick="collapseAll()">üîí –°–≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ</button>
    <button class="qp-btn" type="button" onclick="resetFilter()">üéØ –°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–∞</button>
  </div>

  <script>
    /* === Firebase Cloud Sync (–∞–Ω–æ–Ω–∏–º–Ω–∞—è) === */
    // === –†–µ–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase (–∑–∞–º–µ–Ω–µ–Ω–∞) ===
    const firebaseConfig = {
      apiKey: "AIzaSyCo560tNWLd4OqoTMc8g0DgxvsfFldMNWU",
      authDomain: "tracker-397f9.firebaseapp.com",
      projectId: "tracker-397f9",
      storageBucket: "tracker-397f9.appspot.com", // –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –∏—Å–ø–æ–ª—å–∑—É–µ–º *.appspot.com
      messagingSenderId: "578524159971",
      appId: "1:578524159971:web:7fbb385e5063ebac25cad6",
      measurementId: "G-2PD3FS0WCS" // –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é (analytics –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ–º)
    };
    // (–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤ —É–¥–∞–ª–µ–Ω–∞: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∞)
    let firebaseLoaded=false, auth=null, db=null, cloudUser=null, remoteSnapshotMeta=null;
    function loadFirebaseCompat(){
      if(firebaseLoaded) return Promise.resolve();
      const scripts=[
        'https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js',
        'https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js',
        'https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js'
      ];
      return scripts.reduce((p,src)=>p.then(()=>new Promise((res,rej)=>{const s=document.createElement('script'); s.src=src; s.onload=res; s.onerror=rej; document.head.appendChild(s);})),Promise.resolve())
        .then(()=>{ firebase.initializeApp(firebaseConfig); firebaseLoaded=true; initCloud(); })
        .catch(e=>console.warn('Firebase load error',e));
    }
    function initCloud(){
      try { auth=firebase.auth(); db=firebase.firestore(); auth.onAuthStateChanged(u=>{cloudUser=u; updateCloudUI(); if(u) fetchRemoteMeta();}); } catch(e){ console.warn('Cloud init error',e); }
    }
    // ==== –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Google + –∞–Ω–æ–Ω–∏–º) ====
    function cloudAnonSignIn(){ loadFirebaseCompat().then(()=>{ if(!auth) return; if(cloudUser){ alert('–£–∂–µ –≤–æ—à–ª–∏'); return;} auth.signInAnonymously().catch(e=>alert('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: '+e.message)); }); }
    function cloudGoogleSignIn(){
      loadFirebaseCompat().then(()=>{
        if(!auth) return;
        const provider = new firebase.auth.GoogleAuthProvider();
        if(auth.currentUser && auth.currentUser.isAnonymous){
          auth.currentUser.linkWithPopup(provider)
            .then(()=>{ updateCloudUI(); initialCloudSync(); })
            .catch(err=>{
              if(err.code === 'auth/credential-already-in-use'){
                auth.signInWithPopup(provider).then(()=>{ cloudMerge(); }).catch(e=>alert('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: '+e.message));
              } else alert('–û—à–∏–±–∫–∞ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è: '+err.message);
            });
        } else {
          auth.signInWithPopup(provider)
            .then(()=>{ initialCloudSync(); })
            .catch(e=>{
              if(e?.code === 'auth/unauthorized-domain'){
                console.warn('[Firebase] Unauthorized domain. –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ö–æ—Å—Ç –≤ Firebase ‚Üí Authentication ‚Üí Settings ‚Üí Authorized domains.');
                alert('–î–æ–º–µ–Ω –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –¥–ª—è OAuth.\n\n–î–æ–±–∞–≤—å: "'+location.hostname+'" –≤ Firebase Console ‚Üí Authentication ‚Üí Settings ‚Üí Authorized domains.');
              } else {
                alert('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: '+e.message);
              }
            });
        }
      });
    }
    function cloudSignIn(){ cloudGoogleSignIn(); }
    function cloudSignOut(){ if(auth && cloudUser) auth.signOut(); }
    function snapshotLocal(){ return { version:2, exportedAt:new Date().toISOString(), state, notesState, attachmentsState, subtasksState, extraOpen, openState, sectionOpen, theme: document.body.getAttribute('data-theme') }; }
    function applySnapshot(obj){ if(!obj) return; if(obj.state) state=obj.state; if(obj.notesState) notesState=obj.notesState; if(obj.attachmentsState) attachmentsState=obj.attachmentsState; if(obj.subtasksState) subtasksState=obj.subtasksState; if(obj.extraOpen) extraOpen=obj.extraOpen; if(obj.openState) openState=obj.openState; if(obj.sectionOpen) sectionOpen=obj.sectionOpen; if(obj.theme){ document.body.setAttribute('data-theme', obj.theme); localStorage.setItem('theme', obj.theme);} save(); saveNotes(); saveAttachments(); saveSubtasks(); saveExtraOpen(); saveOpenState(); saveSectionOpen(); updateStats(); render(); }
    function docRef(){ if(!cloudUser) return null; return db.collection('users').doc(cloudUser.uid); }
  let cloudUploadQueued=null;
  function scheduleCloudUpload(){ if(!cloudUser || cloudUser.isAnonymous) return; if(cloudUploadQueued) clearTimeout(cloudUploadQueued); cloudUploadQueued = setTimeout(()=>cloudUpload(),1500); }
  function cloudUpload(){ if(!cloudUser){ return;} const ref=docRef(); if(!ref) return; const data=snapshotLocal(); ref.set({data, updatedAt: firebase.firestore.FieldValue.serverTimestamp()}).then(()=>{ localStorage.setItem('cloudLastSync', Date.now().toString()); remoteSnapshotMeta={updatedAt:new Date()}; updateCloudUI(); }).catch(e=>console.warn('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: '+e.message)); }
  function cloudDownload(){ if(!cloudUser){ alert('–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ'); return;} const ref=docRef(); if(!ref) return; ref.get().then(snap=>{ if(!snap.exists){ alert('–í –æ–±–ª–∞–∫–µ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö'); return;} const payload=snap.data(); remoteSnapshotMeta={updatedAt: payload.updatedAt?.toDate?.()|| new Date()}; applySnapshot(payload.data); localStorage.setItem('cloudLastSync', Date.now().toString()); updateCloudUI(); }).catch(e=>alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: '+e.message)); }
  function cloudMerge(){ if(!cloudUser){ alert('–í–æ–π–¥–∏—Ç–µ'); return;} const ref=docRef(); if(!ref) return; ref.get().then(snap=>{ if(!snap.exists){ cloudUpload(); return;} const remote=snap.data()?.data||{}; const merged={...remote, ...snapshotLocal()}; applySnapshot(merged); cloudUpload(); }).catch(e=>alert('–û—à–∏–±–∫–∞ merge: '+e.message)); }
  function initialCloudSync(){ const ref=docRef(); if(!ref) return; ref.get().then(snap=>{ if(snap.exists){ const payload=snap.data(); remoteSnapshotMeta={updatedAt: payload.updatedAt?.toDate?.()|| new Date()}; const remoteData=payload.data; const localTs=parseInt(localStorage.getItem('cloudLastSync')||'0'); const remoteTs=remoteSnapshotMeta.updatedAt.getTime(); if(remoteTs>localTs){ applySnapshot(remoteData); } else if(localTs && localTs>remoteTs){ cloudUpload(); } updateCloudUI(); } else { cloudUpload(); } }); }
    function fetchRemoteMeta(){ const ref=docRef(); if(!ref) return; ref.get().then(snap=>{ if(snap.exists){ const payload=snap.data(); remoteSnapshotMeta={updatedAt: payload.updatedAt?.toDate?.()|| new Date()}; updateCloudUI(); } }); }
    function fmtDate(d){ if(!d) return '-'; return d.toLocaleString(); }
  function updateCloudUI(){
    const st=document.getElementById('cloudStatus');
    const gBtn=document.getElementById('cloudGoogleBtn');
    const aBtn=document.getElementById('cloudAnonBtn');
    const up=document.getElementById('cloudUploadBtn');
    const dn=document.getElementById('cloudDownloadBtn');
    const mg=document.getElementById('cloudMergeBtn');
    const ls=document.getElementById('cloudLastSync');
    const lastSyncTs=localStorage.getItem('cloudLastSync');
    const lastSync= lastSyncTs? new Date(parseInt(lastSyncTs)):null;
    if(!st) return;
    const googleSVG = '<span class="g-icon" aria-hidden="true"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="#EA4335" d="M12 10.8v3.84h5.42c-.24 1.26-.98 2.33-2.08 3.05l3.36 2.61c1.96-1.81 3.09-4.47 3.09-7.66 0-.74-.07-1.45-.2-2.14H12z"/><path fill="#34A853" d="M6.56 14.32 5.8 14.9l-2.68 2.06C5.08 20.6 8.29 22.5 12 22.5c2.7 0 4.96-.9 6.61-2.45l-3.36-2.61c-.9.6-2.05.96-3.25.96-2.51 0-4.65-1.69-5.44-3.97z"/><path fill="#4A90E2" d="M5.8 9.1 3.12 7.04C2.41 8.37 2 9.9 2 11.5s.41 3.13 1.12 4.46l3.44-2.66c-.2-.6-.31-1.25-.31-1.9 0-.66.11-1.3.31-1.9z"/><path fill="#FBBC05" d="M12 6.5c1.47 0 2.78.51 3.81 1.5l2.85-2.85C16.95 3.76 14.7 2.9 12 2.9 8.29 2.9 5.08 4.8 3.12 7.04L5.8 9.1c.79-2.28 2.93-3.97 5.44-3.97z"/></svg></span>';
    if(!cloudUser){
      st.textContent='‚òÅÔ∏è –û–±–ª–∞–∫–æ: –æ—Ñ—Ñ–ª–∞–π–Ω';
      st.className='cloud-badge cloud-status-err';
      if(gBtn){ gBtn.disabled=false; gBtn.innerHTML=googleSVG; gBtn.onclick=cloudGoogleSignIn; gBtn.setAttribute('aria-label','Google –≤—Ö–æ–¥'); gBtn.title='Google –≤—Ö–æ–¥'; }
      if(aBtn){ aBtn.disabled=false; aBtn.textContent='üë§ –ê–Ω–æ–Ω–∏–º'; aBtn.onclick=cloudAnonSignIn; }
      [up,dn,mg].forEach(b=>b && (b.disabled=true)); if(ls) ls.textContent='';
    } else {
      const anon=cloudUser.isAnonymous;
      st.textContent= anon? '‚òÅÔ∏è –û–±–ª–∞–∫–æ: –∞–Ω–æ–Ω–∏–º' : '‚òÅÔ∏è –û–±–ª–∞–∫–æ: Google';
      st.className='cloud-badge ' + (anon? 'cloud-status-warn':'cloud-status-ok');
      if(gBtn){
        if(anon){
          gBtn.innerHTML=googleSVG; gBtn.onclick=cloudGoogleSignIn; gBtn.setAttribute('aria-label','–°–≤—è–∑–∞—Ç—å —Å Google'); gBtn.title='–°–≤—è–∑–∞—Ç—å —Å Google';
        } else {
          gBtn.textContent='üö™'; gBtn.onclick=cloudSignOut; gBtn.setAttribute('aria-label','–í—ã–π—Ç–∏ –∏–∑ Google'); gBtn.title='–í—ã–π—Ç–∏ –∏–∑ Google';
        }
        gBtn.disabled=false;
      }
      if(aBtn){ aBtn.disabled=true; }
      [up,dn,mg].forEach(b=>b && (b.disabled=false));
      let metaTxt='';
      if(remoteSnapshotMeta?.updatedAt){ metaTxt+='–û–±–ª–∞–∫–æ: '+fmtDate(remoteSnapshotMeta.updatedAt); }
      if(lastSync){ metaTxt+=(metaTxt?', ':'')+'–õ–æ–∫–∞–ª. sync: '+fmtDate(lastSync); }
      if(ls) ls.textContent=metaTxt;
    }
  }
    // ==== –ö–æ–Ω–µ—Ü –±–ª–æ–∫–∞ Firebase ====
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑ localStorage –∏–ª–∏ –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç
    let state = {};
    if (localStorage.getItem('frontendPlan')) {
      try {
        state = JSON.parse(localStorage.getItem('frontendPlan')) || {};
      } catch (e) {
        state = {};
      }
    }

    const plan = [
      // –ú–µ—Å—è—Ü 1
      {
        month: 1, title: "–ú–µ—Å—è—Ü 1. –û—Å–Ω–æ–≤—ã –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏", weeks: [
          {
            week: 1, title: "–ù–µ–¥–µ–ª—è 1 ‚Äî –ò–Ω—Ç–µ—Ä–Ω–µ—Ç, HTTP, DNS", days: [
              { day: 1, title: "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç", time: "2 —á", task: "–ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å–µ—Ç–∏, –∫–ª–∏–µ–Ω—Ç ‚Üî —Å–µ—Ä–≤–µ—Ä, —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Å–ø–µ–∫—Ç.", links: ["MDN ‚Äî Internet||https://developer.mozilla.org/ru/docs/Learn/Common_questions/Web_mechanics/How_does_the_Internet_work"] },
              { day: 2, title: "HTTP –æ—Å–Ω–æ–≤—ã", time: "2 —á", task: "–ú–µ—Ç–æ–¥—ã, –∫–æ–¥—ã —Å—Ç–∞—Ç—É—Å–∞, –∑–∞–≥–æ–ª–æ–≤–∫–∏. –†–∞–∑–±–æ—Ä –≤–∫–ª–∞–¥–∫–∏ Network.", links: ["MDN ‚Äî HTTP overview||https://developer.mozilla.org/ru/docs/Web/HTTP/Overview"] },
              { day: 3, title: "DNS –∏ –¥–æ–º–µ–Ω—ã", time: "2 —á", task: "–ß—Ç–æ —Ç–∞–∫–æ–µ DNS, –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è, –ø–æ–∏—Å–∫ IP —á–µ—Ä–µ–∑ nslookup/dig.", links: ["MDN ‚Äî DNS||https://developer.mozilla.org/ru/docs/Glossary/DNS"] },
              { day: 4, title: "–•–æ—Å—Ç–∏–Ω–≥ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è", time: "2 —á", task: "–ü—É–±–ª–∏–∫–∞—Ü–∏—è HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ GitHub Pages.", links: ["GitHub Pages||https://pages.github.com/"] },
              { day: 5, title: "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä", time: "2 —á", task: "–†–∞–∑–±–æ—Ä —Ä–µ–Ω–¥–µ—Ä–∞: –ø–∞—Ä—Å–∏–Ω–≥, DOM, CSSOM, DevTools –ø–∞–Ω–µ–ª–∏.", links: ["How browsers work||https://web.dev/articles/howbrowserswork"] },
              { day: 6, title: "–ü—Ä–æ–µ–∫—Ç: –õ–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞", time: "4-5 —á", task: "–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±–æ –º–Ω–µ + –ø—É–±–ª–∏–∫–∞—Ü–∏—è.", links: ["MDN HTML||https://developer.mozilla.org/ru/docs/Learn/HTML"] },
              { day: 7, title: "Git –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª", time: "4-5 —á", task: "git init/add/commit/push, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.", links: ["Git Guide||https://rogerdudler.github.io/git-guide/index.ru.html"] }
            ]
          },
          {
            week: 2, title: "–ù–µ–¥–µ–ª—è 2 ‚Äî –ë–∞–∑–æ–≤—ã–π HTML/CSS", days: [
              { day: 8, title: "–°–µ–º–∞–Ω—Ç–∏–∫–∞ HTML", time: "2 —á", task: "–ó–∞–≥–æ–ª–æ–≤–∫–∏, —Å–ø–∏—Å–∫–∏, —Å—Å—ã–ª–∫–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.", links: ["MDN Structuring HTML||https://developer.mozilla.org/ru/docs/Learn/HTML"] },
              { day: 9, title: "–§–æ—Ä–º—ã", time: "2 —á", task: "input/select/textarea/label, –±–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏.", links: ["MDN Forms||https://developer.mozilla.org/ru/docs/Learn/Forms"] },
              { day: 10, title: "–û—Å–Ω–æ–≤—ã CSS", time: "2 —á", task: "–°–µ–ª–µ–∫—Ç–æ—Ä—ã, –∫–∞—Å–∫–∞–¥, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞.", links: ["What is CSS||https://developer.mozilla.org/ru/docs/Learn/CSS"] },
              { day: 11, title: "Box Model –∏ Flex", time: "2 —á", task: "display, box-sizing, flex-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.", links: ["Flexbox Guide||https://css-tricks.com/snippets/css/a-guide-to-flexbox/"] },
              { day: 12, title: "–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å", time: "2 —á", task: "@media, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã, mobile-first.", links: ["Responsive MDN||https://developer.mozilla.org/ru/docs/Learn/CSS/CSS_layout/Responsive_Design"] },
              { day: 13, title: "–ü—Ä–æ–µ–∫—Ç: –†–µ–∑—é–º–µ", time: "4-5 —á", task: "–û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ CV c –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å—é.", links: [] },
              { day: 14, title: "–®–ª–∏—Ñ–æ–≤–∫–∞ —Ä–µ–∑—é–º–µ", time: "4-5 —á", task: "–Ø–∫–æ—Ä—è, –ø–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª, —É–ª—É—á—à–µ–Ω–∏–µ —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∏.", links: [] }
            ]
          },
          {
            week: 3, title: "–ù–µ–¥–µ–ª—è 3 ‚Äî –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π CSS", days: [
              { day: 15, title: "Flexbox —É–≥–ª—É–±–ª–µ–Ω–∏–µ", time: "2 —á", task: "–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ, –≤–ª–æ–∂–µ–Ω–Ω—ã–µ flex-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.", links: [] },
              { day: 16, title: "CSS Grid", time: "2 —á", task: "grid-template, fr, auto-fit.", links: ["Grid Guide||https://css-tricks.com/snippets/css/complete-guide-grid/"] },
              { day: 17, title: "–ü—Å–µ–≤–¥–æ–∫–ª–∞—Å—Å—ã/—ç–ª–µ–º–µ–Ω—Ç—ã", time: "2 —á", task: ":hover/:focus/::before/::after —ç—Ñ—Ñ–µ–∫—Ç—ã.", links: [] },
              { day: 18, title: "Sass/SCSS", time: "2 —á", task: "–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å, partials.", links: ["Sass Guide||https://sass-lang.com/guide"] },
              { day: 19, title: "–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º", time: "2 —á", task: ":invalid, required, —Å—Ç–∏–ª–∏ –æ—à–∏–±–æ–∫.", links: [] },
              { day: 20, title: "–ü—Ä–æ–µ–∫—Ç: –õ–µ–Ω–¥–∏–Ω–≥", time: "4-5 —á", task: "–õ–µ–Ω–¥–∏–Ω–≥ —Å —Ñ–æ—Ä–º–æ–π –∏ —Å–µ—Ç–∫–∞–º–∏.", links: [] },
              { day: 21, title: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CSS", time: "4-5 —á", task: "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ SCSS, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥.", links: [] }
            ]
          },
          {
            week: 4, title: "–ù–µ–¥–µ–ª—è 4 ‚Äî Git, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Å—Ä–µ–¥–∞", days: [
              { day: 22, title: "Git –≤–µ—Ç–∫–∏", time: "2 —á", task: "branch/merge, fast-forward.", links: [] },
              { day: 23, title: "Pull Requests", time: "2 —á", task: "Fork/PR/review –≤ GitHub.", links: [] },
              { day: 24, title: "CLI –æ—Å–Ω–æ–≤—ã", time: "2 —á", task: "–ù–∞–≤–∏–≥–∞—Ü–∏—è, —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, –ø—Ä–∞–≤–∞.", links: [] },
              { day: 25, title: "Node & npm", time: "2 —á", task: "package.json, scripts, semver.", links: ["Node.js||https://nodejs.org/ru/"] },
              { day: 26, title: "npm –ø—Ä–æ–µ–∫—Ç", time: "2 —á", task: "devDeps vs deps, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.", links: [] },
              { day: 27, title: "VS Code + ESLint + Prettier", time: "4-5 —á", task: "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ª–∏–Ω—Ç–∏–Ω–≥–∞.", links: ["Prettier||https://prettier.io/"] },
              { day: 28, title: "–ü—Ä–æ–µ–∫—Ç: Workflow", time: "4-5 —á", task: "–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Å –≤–µ—Ç–∫–∞–º–∏ –∏ PR.", links: [] }
            ]
          }
        ]
      },
      // –ú–µ—Å—è—Ü 2
      {
        month: 2, title: "–ú–µ—Å—è—Ü 2. –û—Å–Ω–æ–≤—ã JavaScript", weeks: [
          {
            week: 5, title: "–ù–µ–¥–µ–ª—è 5 ‚Äî –í–≤–µ–¥–µ–Ω–∏–µ –≤ JS", days: [
              { day: 29, title: "–ß—Ç–æ —Ç–∞–∫–æ–µ JavaScript", time: "2 —á", task: "–†–æ–ª—å JS –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –ø–µ—Ä–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.", links: ["MDN JS First Steps||https://developer.mozilla.org/ru/docs/Learn/JavaScript/First_steps"] },
              { day: 30, title: "–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–∏–ø—ã", time: "2 —á", task: "let/const, –ø—Ä–∏–º–∏—Ç–∏–≤—ã, typeof.", links: [] },
              { day: 31, title: "–£—Å–ª–æ–≤–∏—è –∏ —Ü–∏–∫–ª—ã", time: "2 —á", task: "if/switch/for/while –∏–≥—Ä–∞ '–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ'.", links: [] },
              { day: 32, title: "–§—É–Ω–∫—Ü–∏–∏", time: "2 —á", task: "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤–æ–∑–≤—Ä–∞—Ç, —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.", links: [] },
              { day: 33, title: "–°—Ç—Ä–æ–∫–∏ –∏ –º–∞—Å—Å–∏–≤—ã", time: "2 —á", task: "–ú–µ—Ç–æ–¥—ã map/filter, –ø—Ä–∞–∫—Ç–∏–∫–∞.", links: [] },
              { day: 34, title: "–ü—Ä–æ–µ–∫—Ç: To-Do (—á1)", time: "4-5 —á", task: "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á, –º–∞—Å—Å–∏–≤ –≤ –ø–∞–º—è—Ç–∏.", links: [] },
              { day: 35, title: "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ To-Do", time: "4-5 —á", task: "–ú–æ–¥—É–ª–∏ (–ª–æ–≥–∏–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö), —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage.", links: [] }
            ]
          },
          {
            week: 6, title: "–ù–µ–¥–µ–ª—è 6 ‚Äî –û–±—ä–µ–∫—Ç—ã –∏ DOM", days: [
              { day: 36, title: "–û–±—ä–µ–∫—Ç—ã/JSON", time: "2 —á", task: "–°–æ–∑–¥–∞–Ω–∏–µ, –¥–æ—Å—Ç—É–ø, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON.", links: [] },
              { day: 37, title: "–ú–∞—Å—Å–∏–≤—ã –æ–±—ä–µ–∫—Ç–æ–≤", time: "2 —á", task: "filter/find/sort –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã.", links: [] },
              { day: 38, title: "DOM –í–≤–µ–¥–µ–Ω–∏–µ", time: "2 —á", task: "querySelector/createElement.", links: [] },
              { day: 39, title: "–°–æ–±—ã—Ç–∏—è", time: "2 —á", task: "addEventListener, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.", links: [] },
              { day: 40, title: "–ú–∞–Ω–∏–ø—É–ª—è—Ü–∏—è –∫–ª–∞—Å—Å–∞–º–∏", time: "2 —á", task: "classList.toggle –¥–ª—è —Ç–µ–º–∏–Ω–≥–∞.", links: [] },
              { day: 41, title: "–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ To-Do", time: "4-5 —á", task: "–§–∏–ª—å—Ç—Ä: –≤—Å–µ/–∞–∫—Ç–∏–≤–Ω—ã–µ/–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ.", links: [] },
              { day: 42, title: "–û—Ç–ª–∞–¥–∫–∞", time: "4-5 —á", task: "Breakpoint, Sources, stack trace.", links: [] }
            ]
          },
          {
            week: 7, title: "–ù–µ–¥–µ–ª—è 7 ‚Äî –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å", days: [
              { day: 43, title: "–¢–∞–π–º–µ—Ä—ã", time: "2 —á", task: "setTimeout/setInterval —Å—á–µ—Ç—á–∏–∫.", links: [] },
              { day: 44, title: "Promises", time: "2 —á", task: "–°–æ–∑–¥–∞–Ω–∏–µ/—Ü–µ–ø–æ—á–∫–∏ then/catch.", links: [] },
              { day: 45, title: "Fetch API", time: "2 —á", task: "GET –∑–∞–ø—Ä–æ—Å –∫ –ø—É–±–ª–∏—á–Ω–æ–º—É API.", links: ["JSONPlaceholder||https://jsonplaceholder.typicode.com/"] },
              { day: 46, title: "async/await", time: "2 —á", task: "–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∫–æ–¥ –Ω–∞ async/await.", links: [] },
              { day: 47, title: "–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫", time: "2 —á", task: "try/catch/finally, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—à–∏–±–∫–∏.", links: [] },
              { day: 48, title: "–ü—Ä–æ–µ–∫—Ç: –ú–∏–Ω–∏ SPA", time: "4-5 —á", task: "–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π + –¥–µ—Ç–∞–ª–∏ + –ø–æ–∏—Å–∫.", links: [] },
              { day: 49, title: "–£–ª—É—á—à–µ–Ω–∏–µ SPA", time: "4-5 —á", task: "–õ–æ–∞–¥–µ—Ä, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.", links: [] }
            ]
          },
          {
            week: 8, title: "–ù–µ–¥–µ–ª—è 8 ‚Äî Node.js –∏ —Å–±–æ—Ä–∫–∞", days: [
              { day: 50, title: "Node.js –æ—Å–Ω–æ–≤—ã", time: "2 —á", task: "–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞, process.env.", links: [] },
              { day: 51, title: "CommonJS –º–æ–¥—É–ª–∏", time: "2 —á", task: "module.exports / require.", links: [] },
              { day: 52, title: "npm –ø–∞–∫–µ—Ç—ã", time: "2 —á", task: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ lodash, –∏–º–ø–æ—Ä—Ç –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.", links: [] },
              { day: 53, title: "ES –º–æ–¥—É–ª–∏", time: "2 —á", task: "import/export –∏ Babel.", links: [] },
              { day: 54, title: "Webpack & Babel", time: "2 —á", task: "entry/output/loader/plugin.", links: [] },
              { day: 55, title: "–ü—Ä–æ–µ–∫—Ç: SPA + —Å–±–æ—Ä–∫–∞", time: "4-5 —á", task: "–ü–µ—Ä–µ–Ω–æ—Å SPA –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å –±–∏–ª–¥–æ–º.", links: [] },
              { day: 56, title: "ESLint/Prettier", time: "4-5 —á", task: "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–∏–ª, —Ñ–∏–∫—Å—ã.", links: [] }
            ]
          }
        ]
      },
      // –ú–µ—Å—è—Ü 3
      {
        month: 3, title: "–ú–µ—Å—è—Ü 3. React –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥", weeks: [
          {
            week: 9, title: "–ù–µ–¥–µ–ª—è 9 ‚Äî –û—Å–Ω–æ–≤—ã React", days: [
              { day: 57, title: "Quick Start", time: "2 —á", task: "–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (Vite) + –ø–µ—Ä–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.", links: ["React Quick Start||https://react.dev/learn"] },
              { day: 58, title: "JSX", time: "2 —á", task: "–†–∞–∑–º–µ—Ç–∫–∞ –≤ JS, –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ JSX.", links: [] },
              { day: 59, title: "useState", time: "2 —á", task: "–°—á–µ—Ç—á–∏–∫, –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π.", links: [] },
              { day: 60, title: "–†–µ–Ω–¥–µ—Ä —Å–ø–∏—Å–∫–æ–≤", time: "2 —á", task: "key –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.", links: [] },
              { day: 61, title: "–£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä", time: "2 —á", task: "–¢–µ—Ä–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, &&.", links: [] },
              { day: 62, title: "–ü—Ä–æ–µ–∫—Ç: To-Do React", time: "4-5 —á", task: "–ü–µ—Ä–µ–Ω–æ—Å To-Do –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.", links: [] },
              { day: 63, title: "–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è", time: "4-5 —á", task: "CSS Modules / styled-components.", links: [] }
            ]
          },
          {
            week: 10, title: "–ù–µ–¥–µ–ª—è 10 ‚Äî –î–∞–Ω–Ω—ã–µ –∏ –º–∞—Ä—à—Ä—É—Ç—ã", days: [
              { day: 64, title: "useEffect", time: "2 —á", task: "–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏.", links: [] },
              { day: 65, title: "React Router", time: "2 —á", task: "–ú–∞—Ä—à—Ä—É—Ç—ã –∏ Link.", links: [] },
              { day: 66, title: "–§–æ—Ä–º—ã", time: "2 —á", task: "–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.", links: [] },
              { day: 67, title: "Context API", time: "2 —á", task: "–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –ø—Ä–æ–ø-–¥—Ä–∏–ª–∏–Ω–≥–∞.", links: [] },
              { day: 68, title: "useReducer", time: "2 —á", task: "–†–µ—Ñ–∞–∫—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è To-Do.", links: [] },
              { day: 69, title: "–ü—Ä–æ–µ–∫—Ç: –ó–∞–º–µ—Ç–∫–∏", time: "4-5 —á", task: "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫ —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º.", links: [] },
              { day: 70, title: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–º–µ—Ç–æ–∫", time: "4-5 —á", task: "–ü–æ–∏—Å–∫/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞/–ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ.", links: [] }
            ]
          },
          {
            week: 11, title: "–ù–µ–¥–µ–ª—è 11 ‚Äî –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π React", days: [
              { day: 71, title: "–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏", time: "2 —á", task: "–í—ã–Ω–æ—Å –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏.", links: [] },
              { day: 72, title: "–ü–æ—Ä—Ç–∞–ª—ã", time: "2 —á", task: "–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤–Ω–µ DOM-–∏–µ—Ä–∞—Ä—Ö–∏–∏.", links: [] },
              { day: 73, title: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è", time: "2 —á", task: "useMemo/useCallback/React.memo.", links: [] },
              { day: 74, title: "–ê–Ω–∏–º–∞—Ü–∏–∏", time: "2 —á", task: "Framer Motion –±–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã.", links: [] },
              { day: 75, title: "Error Boundaries", time: "2 —á", task: "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ª–æ–≤–ª–∏ –æ—à–∏–±–æ–∫.", links: [] },
              { day: 76, title: "–ü—Ä–æ–µ–∫—Ç: –£–ª—É—á—à–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫", time: "4-5 —á", task: "–ú–æ–¥–∞–ª–∫–∏ + –∞–Ω–∏–º–∞—Ü–∏–∏ + –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.", links: [] },
              { day: 77, title: "–¢–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤", time: "4-5 —á", task: "React Testing Library –ø–µ—Ä–≤—ã–µ —Ç–µ—Å—Ç—ã.", links: [] }
            ]
          },
          {
            week: 12, title: "–ù–µ–¥–µ–ª—è 12 ‚Äî CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏", days: [
              { day: 78, title: "Bootstrap", time: "2 —á", task: "–°–µ—Ç–∫–∞/–∫–∞—Ä—Ç–æ—á–∫–∏/–∫–Ω–æ–ø–∫–∏.", links: ["Bootstrap||https://getbootstrap.com/"] },
              { day: 79, title: "Tailwind –≤–≤–æ–¥", time: "2 —á", task: "–£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è.", links: ["Tailwind||https://tailwindcss.com/"] },
              { day: 80, title: "–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å Tailwind", time: "2 —á", task: "breakpoints –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è.", links: [] },
              { day: 81, title: "–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è Tailwind", time: "2 —á", task: "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ theme.", links: [] },
              { day: 82, title: "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤", time: "2 —á", task: "–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Å–µ–∫—Ü–∏—é: Bootstrap vs Tailwind.", links: [] },
              { day: 83, title: "–ü—Ä–æ–µ–∫—Ç: –ú–∞–≥–∞–∑–∏–Ω (—á1)", time: "4-5 —á", task: "–ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ + —Å–µ—Ç–∫–∞.", links: [] },
              { day: 84, title: "–ú–∞–≥–∞–∑–∏–Ω —É–ª—É—á—à–µ–Ω–∏—è", time: "4-5 —á", task: "–§–∏–ª—å—Ç—Ä—ã, –∫–æ—Ä–∑–∏–Ω–∞ UI.", links: [] }
            ]
          }
        ]
      },
      // –ú–µ—Å—è—Ü 4
      {
        month: 4, title: "–ú–µ—Å—è—Ü 4. TypeScript, GraphQL, Next.js, Auth", weeks: [
          {
            week: 13, title: "–ù–µ–¥–µ–ª—è 13 ‚Äî TypeScript", days: [
              { day: 85, title: "–í–≤–µ–¥–µ–Ω–∏–µ TS", time: "2 —á", task: "tsc init, –∫–æ–º–ø–∏–ª—è—Ü–∏—è hello.ts.", links: ["TypeScript||https://www.typescriptlang.org/"] },
              { day: 86, title: "–ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã", time: "2 —á", task: "string/number/boolean/array/tuple.", links: [] },
              { day: 87, title: "–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã", time: "2 —á", task: "interface vs type, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ.", links: [] },
              { day: 88, title: "Generics", time: "2 —á", task: "Generic —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.", links: [] },
              { day: 89, title: "TS + React", time: "2 —á", task: "–¢–∏–ø–∏–∑–∞—Ü–∏—è Props/State.", links: [] },
              { day: 90, title: "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–æ–≤", time: "4-5 —á", task: "–ü–µ—Ä–µ–Ω–æ—Å To-Do –Ω–∞ TS (strict).", links: [] },
              { day: 91, title: "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–∏–ø—ã", time: "4-5 —á", task: "Union/Intersection/utility types.", links: [] }
            ]
          },
          {
            week: 14, title: "–ù–µ–¥–µ–ª—è 14 ‚Äî GraphQL", days: [
              { day: 92, title: "–ß—Ç–æ —Ç–∞–∫–æ–µ GraphQL", time: "2 —á", task: "–ó–∞–ø—Ä–æ—Å—ã vs REST.", links: ["GraphQL Intro||https://graphql.org/learn/"] },
              { day: 93, title: "–°—Ö–µ–º–∞ –∏ —Ç–∏–ø—ã", time: "2 —á", task: "type Query/Mutation.", links: [] },
              { day: 94, title: "–ó–∞–ø—Ä–æ—Å—ã/–º—É—Ç–∞—Ü–∏–∏", time: "2 —á", task: "playground, variables.", links: [] },
              { day: 95, title: "–≠–≤–æ–ª—é—Ü–∏—è API", time: "2 —á", task: "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è + @deprecated.", links: [] },
              { day: 96, title: "GraphQL –≤ React", time: "2 —á", task: "Apollo Client setup.", links: [] },
              { day: 97, title: "–ü—Ä–æ–µ–∫—Ç: API + –∫–ª–∏–µ–Ω—Ç", time: "4-5 —á", task: "–°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ (CRUD).", links: [] },
              { day: 98, title: "–£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞", time: "4-5 —á", task: "–ü–∞–≥–∏–Ω–∞—Ü–∏—è/–∑–∞–≥—Ä—É–∑–∫–∞/–æ—à–∏–±–∫–∏.", links: [] }
            ]
          },
          {
            week: 15, title: "–ù–µ–¥–µ–ª—è 15 ‚Äî Next.js", days: [
              { day: 99, title: "–í–≤–µ–¥–µ–Ω–∏–µ Next.js", time: "2 —á", task: "–°—Ç—Ä—É–∫—Ç—É—Ä–∞, pages.", links: ["Next.js||https://nextjs.org/docs"] },
              { day: 100, title: "–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è", time: "2 —á", task: "–ù–∞–≤–∏–≥–∞—Ü–∏—è + layout.", links: [] },
              { day: 101, title: "SSR –∏ SSG", time: "2 —á", task: "getServerSideProps/getStaticProps.", links: [] },
              { day: 102, title: "–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã", time: "2 —á", task: "[id] –∏ getStaticPaths.", links: [] },
              { day: 103, title: "Image –∏ —Å—Ç–∏–ª–∏", time: "2 —á", task: "next/image + CSS Modules.", links: [] },
              { day: 104, title: "–ü—Ä–æ–µ–∫—Ç: –ë–ª–æ–≥ (—á1)", time: "4-5 —á", task: "Markdown —Å—Ç–∞—Ç—å–∏ + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.", links: [] },
              { day: 105, title: "–ë–ª–æ–≥ —É–ª—É—á—à–µ–Ω–∏—è", time: "4-5 —á", task: "SEO + –¥–µ–ø–ª–æ–π Vercel.", links: [] }
            ]
          },
          {
            week: 16, title: "–ù–µ–¥–µ–ª—è 16 ‚Äî –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", days: [
              { day: 106, title: "–û—Å–Ω–æ–≤—ã Auth", time: "2 —á", task: "JWT vs Cookies vs OAuth.", links: [] },
              { day: 107, title: "NextAuth", time: "2 —á", task: "–ü—Ä–æ–≤–∞–π–¥–µ—Ä GitHub –≤—Ö–æ–¥.", links: [] },
              { day: 108, title: "XSS/CSRF", time: "2 —á", task: "–ü—Ä–∏–º–µ—Ä—ã –∞—Ç–∞–∫ –∏ –∑–∞—â–∏—Ç–∞.", links: [] },
              { day: 109, title: "–ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤", time: "2 —á", task: "Middleware auth.", links: [] },
              { day: 110, title: "UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∏", time: "2 —á", task: "Material UI –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã.", links: [] },
              { day: 111, title: "CMS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è", time: "4-5 —á", task: "Headless CMS –∫–æ–Ω—Ç–µ–Ω—Ç.", links: [] },
              { day: 112, title: "–ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏", time: "4-5 —á", task: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, CSP.", links: [] }
            ]
          }
        ]
      },
      // –ú–µ—Å—è—Ü 5
      {
        month: 5, title: "–ú–µ—Å—è—Ü 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–∞—á–µ—Å—Ç–≤–æ", weeks: [
          {
            week: 17, title: "–ù–µ–¥–µ–ª—è 17 ‚Äî –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã", days: [
              { day: 113, title: "Jest –≤–≤–æ–¥", time: "2 —á", task: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ + –ø–µ—Ä–≤—ã–π —Ç–µ—Å—Ç.", links: ["Jest||https://jestjs.io/"] },
              { day: 114, title: "Matchers", time: "2 —á", task: "toBe/toEqual/toContain.", links: [] },
              { day: 115, title: "Mocks & Timers", time: "2 —á", task: "jest.fn()/fake timers.", links: [] },
              { day: 116, title: "Snapshot", time: "2 —á", task: "–°–Ω–∞–ø—à–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.", links: [] },
              { day: 117, title: "RTL", time: "2 —á", task: "Render + screen.getBy*.", links: [] },
              { day: 118, title: "–ü—Ä–æ–µ–∫—Ç: –¢–µ—Å—Ç—ã –∑–∞–º–µ—Ç–æ–∫", time: "4-5 —á", task: "CRUD —Ç–µ—Å—Ç—ã.", links: [] },
              { day: 119, title: "Coverage", time: "4-5 —á", task: "–û—Ç—á–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏—è + —É–ª—É—á—à–µ–Ω–∏—è.", links: [] }
            ]
          },
          {
            week: 18, title: "–ù–µ–¥–µ–ª—è 18 ‚Äî Cypress (E2E)", days: [
              { day: 120, title: "Cypress –≤–≤–æ–¥", time: "2 —á", task: "init –∏ –ø–µ—Ä–≤—ã–π spec.", links: [] },
              { day: 121, title: "–ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤", time: "2 —á", task: "cy.get/contains.", links: [] },
              { day: 122, title: "–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è", time: "2 —á", task: "click/type/check.", links: [] },
              { day: 123, title: "–°–µ—Ç—å –∏ intercept", time: "2 —á", task: "–ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞.", links: [] },
              { day: 124, title: "–°—Ç—Ä–∞—Ç–µ–≥–∏–∏", time: "2 —á", task: "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤.", links: [] },
              { day: 125, title: "–ü—Ä–æ–µ–∫—Ç: E2E –±–ª–æ–≥", time: "4-5 —á", task: "–ù–∞–≤–∏–≥–∞—Ü–∏—è + —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è.", links: [] },
              { day: 126, title: "CI –¥–ª—è Cypress", time: "4-5 —á", task: "GitHub Actions workflow.", links: [] }
            ]
          },
          {
            week: 19, title: "–ù–µ–¥–µ–ª—è 19 ‚Äî –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ a11y", days: [
              { day: 127, title: "–ú–µ—Ç—Ä–∏–∫–∏", time: "2 —á", task: "FCP/LCP/CLS –∏–∑–º–µ—Ä–µ–Ω–∏–µ Lighthouse.", links: [] },
              { day: 128, title: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏", time: "2 —á", task: "Code splitting, lazy.", links: [] },
              { day: 129, title: "Accessibility –æ—Å–Ω–æ–≤—ã", time: "2 —á", task: "ARIA, –∫–æ–Ω—Ç—Ä–∞—Å—Ç.", links: [] },
              { day: 130, title: "–ü—Ä–∞–∫—Ç–∏–∫–∞ a11y", time: "2 —á", task: "–§–æ–∫—É—Å, alt, aria-label.", links: [] },
              { day: 131, title: "PWA –æ—Å–Ω–æ–≤—ã", time: "2 —á", task: "Service Worker, manifest.", links: [] },
              { day: 132, title: "–ü—Ä–æ–µ–∫—Ç: PWA", time: "4-5 —á", task: "–î–æ–±–∞–≤–∏—Ç—å offline –∫–µ—à —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤.", links: [] },
              { day: 133, title: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞", time: "4-5 —á", task: "–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –ø—Ä–æ–≥–æ–Ω Lighthouse.", links: [] }
            ]
          },
          {
            week: 20, title: "–ù–µ–¥–µ–ª—è 20 ‚Äî Mobile/Desktop", days: [
              { day: 134, title: "React Native –≤–≤–æ–¥", time: "2 —á", task: "–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Expo.", links: [] },
              { day: 135, title: "RN –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã", time: "2 —á", task: "View/Text/Button/state.", links: [] },
              { day: 136, title: "RN –Ω–∞–≤–∏–≥–∞—Ü–∏—è", time: "2 —á", task: "react-navigation stack.", links: [] },
              { day: 137, title: "Electron –æ—Å–Ω–æ–≤—ã", time: "2 —á", task: "–ü–µ—Ä–≤–æ–µ –æ–∫–Ω–æ, main/renderer.", links: [] },
              { day: 138, title: "API –≤–æ —Ñ—Ä–æ–Ω—Ç–µ", time: "2 —á", task: "fetch/axios –æ–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã.", links: [] },
              { day: 139, title: "–ü—Ä–æ–µ–∫—Ç: RN To-Do", time: "4-5 —á", task: "AsyncStorage —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á.", links: [] },
              { day: 140, title: "–ü—Ä–æ–µ–∫—Ç: Electron –∑–∞–º–µ—Ç–∫–∏", time: "4-5 —á", task: "–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫.", links: [] }
            ]
          }
        ]
      },
      // –ú–µ—Å—è—Ü 6
      {
        month: 6, title: "–ú–µ—Å—è—Ü 6. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã, CI/CD", weeks: [
          {
            week: 21, title: "–ù–µ–¥–µ–ª—è 21 ‚Äî –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∞–Ω–∏–º–∞—Ü–∏–∏", days: [
              { day: 141, title: "Chart.js/D3 –≤–≤–æ–¥", time: "2 —á", task: "–ü—Ä–æ—Å—Ç–æ–π –±–∞—Ä-—á–∞—Ä—Ç.", links: [] },
              { day: 142, title: "CSS –∞–Ω–∏–º–∞—Ü–∏–∏", time: "2 —á", task: "transition/animation keyframes.", links: [] },
              { day: 143, title: "Framer Motion", time: "2 —á", task: "AnimatePresence.", links: [] },
              { day: 144, title: "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞", time: "2 —á", task: "Hover tooltip.", links: [] },
              { day: 145, title: "–ß–∞—Ä—Ç –≤ React", time: "2 —á", task: "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç Chart –ø—Ä–æ–ø—Å—ã.", links: [] },
              { day: 146, title: "–ü—Ä–æ–µ–∫—Ç: –ù–∞–≤—ã–∫–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è", time: "4-5 —á", task: "–î–∏–∞–≥—Ä–∞–º–º–∞ –Ω–∞–≤—ã–∫–æ–≤ + –∞–Ω–∏–º–∞—Ü–∏—è.", links: [] },
              { day: 147, title: "–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏", time: "4-5 —á", task: "ARIA –æ–ø–∏—Å–∞–Ω–∏–µ –¥–∏–∞–≥—Ä–∞–º–º.", links: [] }
            ]
          },
          {
            week: 22, title: "–ù–µ–¥–µ–ª—è 22 ‚Äî SSG –∏ CMS", days: [
              { day: 148, title: "SSG –∫–æ–Ω—Ü–µ–ø—Ü–∏—è", time: "2 —á", task: "Gatsby/Astro –æ–±–∑–æ—Ä.", links: [] },
              { day: 149, title: "Gatsby —Å—Ç–∞—Ä—Ç", time: "2 —á", task: "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∑–∞–ø—É—Å–∫.", links: [] },
              { day: 150, title: "–°—Ç—Ä–∞–Ω–∏—Ü—ã + GraphQL", time: "2 —á", task: "Markdown –∏—Å—Ç–æ—á–Ω–∏–∫–∏.", links: [] },
              { day: 151, title: "–ü–ª–∞–≥–∏–Ω—ã", time: "2 —á", task: "gatsby-plugin-image/SEO.", links: [] },
              { day: 152, title: "Headless CMS", time: "2 —á", task: "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Strapi/Contentful.", links: [] },
              { day: 153, title: "–ü—Ä–æ–µ–∫—Ç: –ë–ª–æ–≥ –Ω–∞ Gatsby", time: "4-5 —á", task: "–°–±–æ—Ä–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è.", links: [] },
              { day: 154, title: "–î–µ–ø–ª–æ–π SSG", time: "4-5 —á", task: "Netlify/Vercel –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π.", links: [] }
            ]
          },
          {
            week: 23, title: "–ù–µ–¥–µ–ª—è 23 ‚Äî CI/CD –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞", days: [
              { day: 155, title: "CI/CD –æ—Å–Ω–æ–≤—ã", time: "2 —á", task: "–ü–∞–π–ø–ª–∞–π–Ω –ø—Ä–∏–Ω—Ü–∏–ø—ã.", links: [] },
              { day: 156, title: "GitHub Actions", time: "2 —á", task: "Workflow install+test+build.", links: [] },
              { day: 157, title: "–î–µ–ø–ª–æ–π —à–∞–≥", time: "2 —á", task: "–ê–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏—è.", links: [] },
              { day: 158, title: "Docker –≤–≤–æ–¥", time: "2 —á", task: "Dockerfile React/Node.", links: [] },
              { day: 159, title: "Docker Compose", time: "2 —á", task: "frontend+api –ª–æ–∫–∞–ª—å–Ω–æ.", links: [] },
              { day: 160, title: "–ü—Ä–æ–µ–∫—Ç: Prod –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è", time: "4-5 —á", task: "CI+Docker+–¥–µ–ø–ª–æ–π.", links: [] },
              { day: 161, title: "–°—Ç—Ä–µ—Å—Å —Ç–µ—Å—Ç", time: "4-5 —á", task: "autocannon/Lighthouse.", links: [] }
            ]
          },
          {
            week: 24, title: "–ù–µ–¥–µ–ª—è 24 ‚Äî Advanced & Real-time", days: [
              { day: 162, title: "Web Components", time: "2 —á", task: "Custom Elements + Shadow DOM.", links: [] },
              { day: 163, title: "i18n", time: "2 —á", task: "next-i18next –Ω–∞—Å—Ç—Ä–æ–π–∫–∞.", links: [] },
              { day: 164, title: "WebSockets", time: "2 —á", task: "Socket.io —á–∞—Ç.", links: [] },
              { day: 165, title: "–ú–∏–∫—Ä–æ-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã", time: "2 —á", task: "–ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∏ –∫–µ–π—Å—ã.", links: [] },
              { day: 166, title: "GraphQL Subscriptions", time: "2 —á", task: "–†–µ–∞–ª-—Ç–∞–π–º –∫–∞–Ω–∞–ª.", links: [] },
              { day: 167, title: "–ü—Ä–æ–µ–∫—Ç: Real-time", time: "4-5 —á", task: "–ß–∞—Ç/–ø–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.", links: [] },
              { day: 168, title: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è real-time", time: "4-5 —á", task: "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –¥–µ–ø–ª–æ–π.", links: [] }
            ]
          }
        ]
      },
      // –ú–µ—Å—è—Ü 7
      {
        month: 7, title: "–ú–µ—Å—è—Ü 7. –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –∏ –∏—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)", weeks: [
          {
            week: 25, title: "–ù–µ–¥–µ–ª—è 25 ‚Äî –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ", days: [
              { day: 169, title: "–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞", time: "2 —á", task: "–°–ø–∏—Å–æ–∫ —Ç–µ–º –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è.", links: [] },
              { day: 170, title: "HTML/CSS –ø–æ–≤—Ç–æ—Ä", time: "2 —á", task: "–°–µ–º–∞–Ω—Ç–∏–∫–∞ + –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å.", links: [] },
              { day: 171, title: "JavaScript –ø–æ–≤—Ç–æ—Ä", time: "2 —á", task: "–¢–∏–ø—ã, —Ñ—É–Ω–∫—Ü–∏–∏, async.", links: [] },
              { day: 172, title: "React/Next –ø–æ–≤—Ç–æ—Ä", time: "2 —á", task: "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã/SSR.", links: [] },
              { day: 173, title: "Git/CI –ø–æ–≤—Ç–æ—Ä", time: "2 —á", task: "Workflows.", links: [] },
              { day: 174, title: "–ü–ª–∞–Ω –∏—Ç–æ–≥–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞", time: "4-5 —á", task: "–¢–ó, –ø—Ä–æ—Ç–æ—Ç–∏–ø.", links: [] },
              { day: 175, title: "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è", time: "4-5 —á", task: "–°—Ç—Ä—É–∫—Ç—É—Ä–∞, —Å—Ç–µ–∫.", links: [] }
            ]
          },
          {
            week: 26, title: "–ù–µ–¥–µ–ª—è 26 ‚Äî –ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç: —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞", days: [
              { day: 176, title: "–°—Ç–∞—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞", time: "2 —á", task: "–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.", links: [] },
              { day: 177, title: "UI –∫–∞—Ä–∫–∞—Å", time: "2 —á", task: "–ù–∞–≤–∏–≥–∞—Ü–∏—è/—à–∞–ø–∫–∞.", links: [] },
              { day: 178, title: "–°–æ—Å—Ç–æ—è–Ω–∏–µ", time: "2 —á", task: "Context/Redux.", links: [] },
              { day: 179, title: "Backend/API", time: "2 —á", task: "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ API –∏–ª–∏ mock.", links: [] },
              { day: 180, title: "–ö–ª—é—á–µ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª", time: "2 —á", task: "CRUD/–ø–æ–∏—Å–∫.", links: [] },
              { day: 181, title: "Auth & –∑–∞—â–∏—Ç–∞", time: "4-5 —á", task: "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –æ—à–∏–±–∫–∏.", links: [] },
              { day: 182, title: "PWA —Ñ—É–Ω–∫—Ü–∏–∏", time: "4-5 —á", task: "Service Worker/offline.", links: [] }
            ]
          },
          {
            week: 27, title: "–ù–µ–¥–µ–ª—è 27 ‚Äî –¢–µ—Å—Ç—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è", days: [
              { day: 183, title: "–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã", time: "2 —á", task: "–ü–æ–∫—Ä—ã—Ç–∏–µ –ª–æ–≥–∏–∫–∏.", links: [] },
              { day: 184, title: "E2E —Ç–µ—Å—Ç—ã", time: "2 —á", task: "–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.", links: [] },
              { day: 185, title: "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", time: "2 —á", task: "Lighthouse —É–ª—É—á—à–µ–Ω–∏—è.", links: [] },
              { day: 186, title: "–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å", time: "2 —á", task: "axe DevTools.", links: [] },
              { day: 187, title: "SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è", time: "2 —á", task: "Metadata/OpenGraph.", links: [] },
              { day: 188, title: "UI/UX polishing", time: "4-5 —á", task: "–ü—Ä–∞–≤–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.", links: [] },
              { day: 189, title: "Release –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞", time: "4-5 —á", task: "CI/CD —Ñ–∏–Ω–∞–ª—å–Ω—ã–π.", links: [] }
            ]
          }
        ]
      },
      // –ú–µ—Å—è—Ü 8
      {
        month: 8, title: "–ú–µ—Å—è—Ü 8. –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª", weeks: [
          {
            week: 28, title: "–ù–µ–¥–µ–ª—è 28 ‚Äî –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ", days: [
              { day: 190, title: "README", time: "2 —á", task: "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞.", links: [] },
              { day: 191, title: "–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è", time: "2 —á", task: "–°–ª–∞–π–¥—ã/–¥–µ–º–æ.", links: [] },
              { day: 192, title: "–°–∞–º–æ–∞–Ω–∞–ª–∏–∑", time: "2 —á", task: "–ß—Ç–æ —É–ª—É—á—à–∏—Ç—å –¥–∞–ª—å—à–µ.", links: [] },
              { day: 193, title: "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π", time: "2 —á", task: "GitHub/LinkedIn.", links: [] },
              { day: 194, title: "–ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è", time: "2 —á", task: "–°–ª–µ–¥—É—é—â–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.", links: [] },
              { day: 195, title: "Open Source/–•–∞–∫–∞—Ç–æ–Ω—ã", time: "4-5 —á", task: "–í—ã–±–æ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.", links: [] },
              { day: 196, title: "–§–∏–Ω–∏—à!", time: "4-5 —á", task: "–ü–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤ –∏ –æ—Ç–¥—ã—Ö.", links: [] }
            ]
          }
        ]
      }
    ];

    // --- –ú–µ—Ç–∞: —Ü–µ–ª–∏ –º–µ—Å—è—Ü–µ–≤ (goal) ---
    const monthMeta = {
      1: { goal: '–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç: –ø–æ–Ω—è—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –æ—Å–≤–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–π –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π HTML/CSS –∏ —Ä–∞–±–æ—á–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.' },
      2: { goal: '–û—Å–≤–æ–∏—Ç—å –æ—Å–Ω–æ–≤—ã JavaScript, —Ä–∞–±–æ—Ç—É —Å DOM, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –±–∞–∑–æ–≤—É—é —Å–±–æ—Ä–∫—É.' },
      3: { goal: '–ü–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ React –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ.' },
      4: { goal: '–î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é (TypeScript), GraphQL, Next.js –∏ –ø–æ–Ω—è—Ç—å –æ—Å–Ω–æ–≤—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.' },
      5: { goal: '–í–Ω–µ–¥—Ä–∏—Ç—å –∫—É–ª—å—Ç—É—Ä—É –∫–∞—á–µ—Å—Ç–≤–∞: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—é–Ω–∏—Ç/E2E), –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.' },
      6: { goal: '–ù–∞—É—á–∏—Ç—å—Å—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, CI/CD –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º.' },
      7: { goal: '–°–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞–Ω–∏—è –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç.' },
      8: { goal: '–§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è.' }
    };

    // --- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á (—Å–ø–∏—Å–∫–æ–≤) –Ω–∞ –ª–µ—Ç—É ---
    function buildMonthTasks(month){
      return month.weeks.map(w => w.title.replace(/^[^‚Äî]*‚Äî\s*/,'').trim());
    }
    function buildWeekTasks(week){
      return week.days.map(d => `–î–µ–Ω—å ${d.day}: ${d.title}`);
    }
    function buildDayTasks(day){
      // –†–∞–∑–±–∏–≤–∞–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏ –ø–æ –∑–∞–ø—è—Ç—ã–º/—Ç–æ—á–∫–∞–º/—Ç–æ—á–∫–∞–º —Å –∑–∞–ø—è—Ç–æ–π
      const raw = (day.task||'').split(/[\.;,]/).map(s=>s.trim()).filter(s=>s.length>3);
      // –ï—Å–ª–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø—É—Å—Ç–æ ‚Äì –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ü–µ–ª–∏–∫–æ–º task –∫–∞–∫ –æ–¥–Ω—É –∑–∞–¥–∞—á—É
      return raw.length ? raw : (day.task? [day.task] : []);
    }
    function buildDayGoal(day){
      // –ü—Ä–æ–µ–∫—Ç–Ω—ã–µ –¥–Ω–∏ –æ—Ç–º–µ—á–∞–µ–º —è–≤–Ω–æ
      if(/–ü—Ä–æ–µ–∫—Ç/i.test(day.title)) return '–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏ –∑–∞–∫—Ä–µ–ø–∏—Ç—å –Ω–∞–≤—ã–∫–∏: ' + day.title.replace(/–ü—Ä–æ–µ–∫—Ç:?\s*/i,'').trim();
      return '–û—Å–≤–æ–∏—Ç—å —Ç–µ–º—É: ' + day.title;
    }

    // --- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –Ω–µ–¥–µ–ª—å ---
    const weekDescriptions = {
      1: "–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ HTTP, –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º—ë–Ω –∏ –±–∞–∑–æ–≤–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è. –¶–µ–ª—å ‚Äî –ø–æ–Ω–∏–º–∞—Ç—å —Ü–µ–ø–æ—á–∫—É: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí DNS ‚Üí –∑–∞–ø—Ä–æ—Å ‚Üí –æ—Ç–≤–µ—Ç –±—Ä–∞—É–∑–µ—Ä–∞.",
      2: "–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è HTML-—Ä–∞–∑–º–µ—Ç–∫–∞ –∏ –±–∞–∑–æ–≤–∞—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ –Ω–∞–≤—ã–∫–∞ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏.",
      3: "–£–≥–ª—É–±–ª–µ–Ω–∏–µ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π CSS: —Å–µ—Ç–∫–∏, –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å —Å—Ç–∏–ª–µ–π.",
      4: "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞: Git workflow, npm —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞, —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞.",
      5: "–í—Ö–æ–¥ –≤ JavaScript ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –±–∞–∑–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º –∏ –ø—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.",
      6: "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ —Å DOM, —Å–æ–±—ã—Ç–∏—è–º–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö –≤ –±—Ä–∞—É–∑–µ—Ä–µ.",
      7: "–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ç–∞–π–º–µ—Ä—ã, –ø—Ä–æ–º–∏—Å—ã, –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.",
      8: "Node.js –∫–∞–∫ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è + –æ—Å–Ω–æ–≤—ã –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.",
      9: "React: –º—ã—à–ª–µ–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–ø–∏—Å–∫–æ–≤.",
      10: "–ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è, —Ñ–æ—Ä–º—ã, –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö.",
      11: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏, —É–ª—É—á—à–µ–Ω–∏–µ UX (–∞–Ω–∏–º–∞—Ü–∏–∏) –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, —Ç–µ—Å—Ç—ã).",
      12: "–ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏: UI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏, —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–π.",
      13: "TypeScript ‚Äî –≤–≤–µ–¥–µ–Ω–∏–µ –≤ —Ç–∏–ø–∏–∑–∞—Ü–∏—é, –ø–æ–≤—ã—à–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç–æ–≤.",
      14: "GraphQL: –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ö–µ–º, –∑–∞–ø—Ä–æ—Å—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ.",
      15: "Next.js: —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤.",
      16: "–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è UI-–±–∏–±–ª–∏–æ—Ç–µ–∫ + CMS.",
      17: "–Æ–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –∏–∑–æ–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏, –ø–æ–∫—Ä—ã—Ç–∏–µ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–µ–≥—Ä–µ—Å—Å–∏—è–º.",
      18: "–°–∏—Å—Ç–µ–º–Ω–æ–µ E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CI.",
      19: "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y) –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.",
      20: "–ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å: –º–æ–±–∏–ª—å–Ω—ã–µ (React Native) –∏ –¥–µ—Å–∫—Ç–æ–ø–Ω—ã–µ (Electron) –∫–ª–∏–µ–Ω—Ç—ã.",
      21: "–ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: –ø–æ–≤—ã—à–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.",
      22: "–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (SSG), –∫–æ–Ω—Ç–µ–Ω—Ç —á–µ—Ä–µ–∑ Headless CMS –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ü–µ–ø–æ—á–∫–∏ –ø–æ—Å—Ç–∞–≤–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.",
      23: "CI/CD, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –¥–∏–ø–ª–æ—è.",
      24: "–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø–∞—Ç—Ç–µ—Ä–Ω—ã: real-time, –º–∏–∫—Ä–æ-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ã, –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è.",
      25: "–†–µ–≤–∏–∑–∏—è –∑–Ω–∞–Ω–∏–π –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏—Ç–æ–≥–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.",
      26: "–ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫–ª—é—á–µ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞.",
      27: "–¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ, –ø–æ–ª–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, SEO –∏ UX.",
      28: "–§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –∏ –¥–∞–ª—å–Ω–µ–π—à–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è."
    };

    // --- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º (—Ä–µ—Å—Å—É—Ä—Å—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è, –µ—Å–ª–∏ –≤ –¥–Ω–µ –º–∞–ª–æ —Å—Å—ã–ª–æ–∫) ---
    const keywordLinkGroups = [
      { match: /internet|–±—Ä–∞—É–∑–µ—Ä|dns/i, links: ["MDN - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä||https://developer.mozilla.org/ru/docs/Web/Performance/How_browsers_work", "MDN - DNS||https://developer.mozilla.org/ru/docs/Glossary/DNS"] },
      { match: /http|fetch/i, links: ["MDN - HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏||https://developer.mozilla.org/ru/docs/Web/HTTP/Headers", "HTTP Status Codes||https://http.cat/"] },
      { match: /html|—Å–µ–º–∞–Ω—Ç–∏–∫/i, links: ["HTML Living Standard||https://html.spec.whatwg.org/", "A11y —Å–µ–º–∞–Ω—Ç–∏–∫–∞||https://web.dev/learn/accessibility/semantics"] },
      { match: /css|flex|grid|–∞–¥–∞–ø—Ç–∏–≤/i, links: ["MDN - Flexbox||https://developer.mozilla.org/ru/docs/Web/CSS/CSS_flexible_box_layout/Basic_concepts_of_flexbox", "MDN - Grid||https://developer.mozilla.org/ru/docs/Web/CSS/CSS_grid_layout"] },
      { match: /sass|scss/i, links: ["Sass Docs||https://sass-lang.com/documentation", "7-1 Pattern||https://sass-guidelin.es/#the-7-1-pattern"] },
      { match: /git|branch|pull/i, links: ["Pro Git||https://git-scm.com/book/ru/v2", "Git Flight Rules||https://github.com/k88hudson/git-flight-rules"] },
      { match: /node|npm|webpack|babel/i, links: ["Node.js Docs||https://nodejs.org/api/", "Webpack Concepts||https://webpack.js.org/concepts/"] },
      { match: /javascript|–ø–µ—Ä–µ–º–µ–Ω–Ω|—Ñ—É–Ω–∫—Ü|–º–∞—Å—Å–∏–≤|–æ–±—ä–µ–∫—Ç|json/i, links: ["JavaScript Info||https://javascript.info/", "MDN JS Reference||https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference"] },
      { match: /async|promise|—Ç–∞–π–º–µ—Ä|fetch|await/i, links: ["MDN - Promises||https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise", "Async/Await Guide||https://javascript.info/async-await"] },
      { match: /react|jsx|hook|context|state|router/i, links: ["React Docs||https://react.dev/", "React Patterns||https://reactpatterns.com/"] },
      { match: /typescript|ts/i, links: ["TS Handbook||https://www.typescriptlang.org/docs/handbook/intro.html", "typescript-eslint||https://typescript-eslint.io/"] },
      { match: /graphql/i, links: ["Apollo Client||https://www.apollographql.com/docs/react/", "GraphQL Best Practices||https://graphql.org/learn/best-practices/"] },
      { match: /next\.?js|ssg|ssr/i, links: ["Next.js Routing||https://nextjs.org/docs/app/building-your-application/routing", "Next.js Data Fetching||https://nextjs.org/docs/app/building-your-application/data-fetching"] },
      { match: /auth|jwt|security|–±–µ–∑–æ–ø–∞—Å/i, links: ["OWASP Top 10||https://owasp.org/www-project-top-ten/", "Cheat Sheet TLS||https://cheatsheetseries.owasp.org/"] },
      { match: /test|jest|cypress|rtl|—é–Ω–∏—Ç/i, links: ["Testing Library||https://testing-library.com/docs/", "Cypress Docs||https://docs.cypress.io/"] },
      { match: /performance|lighthouse|–æ–ø—Ç–∏–º–∏–∑–∞—Ü|pwa/i, links: ["web.dev Performance||https://web.dev/fast/", "Lighthouse||https://developer.chrome.com/docs/lighthouse"] },
      { match: /accessibility|a11y|–¥–æ—Å—Ç—É–ø/i, links: ["WCAG Overview||https://www.w3.org/WAI/standards-guidelines/wcag/", "WebAIM Checklist||https://webaim.org/standards/wcag/checklist"] },
      { match: /pwa|service worker/i, links: ["MDN - Service Worker||https://developer.mozilla.org/ru/docs/Web/API/Service_Worker_API", "Manifest Guide||https://web.dev/add-manifest/"] },
      { match: /docker|ci|cd|github actions/i, links: ["GitHub Actions Docs||https://docs.github.com/actions", "Docker Docs||https://docs.docker.com/"] },
      { match: /international|i18n|–ª–æ–∫–∞–ª–∏–∑–∞—Ü/i, links: ["i18next||https://www.i18next.com/", "Unicode Guide||https://home.unicode.org/"] },
      { match: /websocket|real-time|socket/i, links: ["Socket.io Docs||https://socket.io/docs/v4", "MDN - WebSockets||https://developer.mozilla.org/ru/docs/Web/API/WebSockets_API"] },
      { match: /micro|–º–∏–∫—Ä–æ-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥/i, links: ["Module Federation||https://webpack.js.org/concepts/module-federation/", "Micro-frontend Patterns||https://micro-frontends.org/"] },
      { match: /visual|chart|d3|–¥–∏–∞–≥—Ä–∞–º/i, links: ["Chart.js||https://www.chartjs.org/docs/latest/", "D3.js Guide||https://observablehq.com/@d3/learn-d3"] },
      { match: /electron/i, links: ["Electron Docs||https://www.electronjs.org/docs", "Electron Security||https://www.electronjs.org/docs/latest/tutorial/security"] },
      { match: /react native|expo|native/i, links: ["React Native Docs||https://reactnative.dev/", "Expo Docs||https://docs.expo.dev/"] },
      { match: /seo/i, links: ["Google SEO Starter||https://developers.google.com/search/docs/fundamentals/seo-starter-guide", "Open Graph||https://ogp.me/"] },
      { match: /readme|–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü|linkedin|—Ä–µ–∑—é–º–µ/i, links: ["Awesome README||https://github.com/matiassingers/awesome-readme", "LinkedIn Profile Tips||https://www.linkedin.com/help/linkedin/answer/a507663"] }
    ];

    // —É–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä—É—é—â–µ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ state, —Ç–µ–ø–µ—Ä—å –æ–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞
    let currentFilter = 'all';

  // --- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã—Ö "–ú–∞—Ç–µ—Ä–∏–∞–ª—ã" –ø–æ –¥–Ω—è–º ---
  let extraOpen = {};
  try { extraOpen = JSON.parse(localStorage.getItem('frontendExtraOpen')||'{}')||{}; } catch(e){ extraOpen = {}; }
  function saveExtraOpen(){ localStorage.setItem('frontendExtraOpen', JSON.stringify(extraOpen)); }
  function toggleExtra(day){
    extraOpen[day] = !extraOpen[day];
    saveExtraOpen();
    const wrap = document.getElementById('extra'+day);
    const btn = document.getElementById('mtgl'+day);
    if(wrap && btn){
      if(extraOpen[day]){ wrap.classList.remove('collapsed'); void wrap.offsetWidth; wrap.classList.add('fade-in'); btn.classList.add('open'); }
      else { wrap.classList.add('collapsed'); wrap.classList.remove('fade-in'); btn.classList.remove('open'); }
      updateMaterialBadge(day);
    }
  }

    // --- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–º–µ—Ç–∫–∏ –∏ –≤–ª–æ–∂–µ–Ω–∏—è ---
  let notesState = {};
  let attachmentsState = {}; // { day: { links: [{title,url}], files:[{name,data,size}] } }
  let subtasksState = {}; // { day: [{text, done}] }
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ–∫—Ü–∏–π (subtasks/notes/attachments)
  let sectionOpen = {}; // { day: { subtasks:true, notes:true, attachments:true } }
    try { notesState = JSON.parse(localStorage.getItem('frontendNotes')||'{}')||{}; } catch(e){ notesState = {}; }
  try { attachmentsState = JSON.parse(localStorage.getItem('frontendAttachments')||'{}')||{}; } catch(e){ attachmentsState = {}; }
  try { subtasksState = JSON.parse(localStorage.getItem('frontendSubtasks')||'{}')||{}; } catch(e){ subtasksState = {}; }
  try { sectionOpen = JSON.parse(localStorage.getItem('frontendSectionOpen')||'{}')||{}; } catch(e){ sectionOpen = {}; }

  function saveSectionOpen(){ localStorage.setItem('frontendSectionOpen', JSON.stringify(sectionOpen)); }
  function ensureSectionDefaults(day){
    if(!sectionOpen[day]){ sectionOpen[day] = { subtasks:true, notes:true, attachments:true }; }
  }
  function toggleSection(day, sec){
    ensureSectionDefaults(day);
    sectionOpen[day][sec] = !sectionOpen[day][sec];
    saveSectionOpen();
    applySectionState(day, sec);
  }
  function applySectionState(day, sec){
    const btn = document.getElementById(sec+'Toggle'+day);
    const body = document.getElementById(sec+'Body'+day);
    if(!btn || !body) return;
    const open = sectionOpen[day]?.[sec];
    if(open){ btn.classList.add('open'); body.classList.remove('collapsed'); }
    else { btn.classList.remove('open'); body.classList.add('collapsed'); }
  }

    function saveNotes(){ localStorage.setItem('frontendNotes', JSON.stringify(notesState)); scheduleCloudUpload(); }
  function saveAttachments(){ localStorage.setItem('frontendAttachments', JSON.stringify(attachmentsState)); scheduleCloudUpload(); }
  function saveSubtasks(){ localStorage.setItem('frontendSubtasks', JSON.stringify(subtasksState)); scheduleCloudUpload(); }
    // –ú–∏–≥—Ä–∞—Ü–∏—è: –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –±—ã–ª–æ —Å—Ç—Ä–æ–∫–æ–π ‚Äî –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ –º–∞—Å—Å–∏–≤ –∑–∞–º–µ—Ç–æ–∫
    function migrateNotes(){
      Object.keys(notesState).forEach(k => {
        if(typeof notesState[k] === 'string'){
          const trimmed = notesState[k].trim();
          notesState[k] = trimmed ? [{ text: trimmed, ts: Date.now() }] : [];
        }
      });
      saveNotes();
    }
    migrateNotes();
    function addNote(day, text){
      const val = (text||'').trim(); if(!val) return;
      if(!Array.isArray(notesState[day])) notesState[day] = [];
      notesState[day].push({ text: escapeHTML(val), ts: Date.now() });
      saveNotes();
      renderNotes(day);
      updateMaterialBadge(day);
    }
    function deleteNote(day, idx){ if(!Array.isArray(notesState[day])) return; notesState[day].splice(idx,1); saveNotes(); renderNotes(day); updateMaterialBadge(day); }
    function renderNotes(day){
      const listEl = document.getElementById('notesList'+day); if(!listEl) return;
      const arr = Array.isArray(notesState[day]) ? notesState[day] : [];
      if(!arr.length){ listEl.innerHTML = '<li style="opacity:.5;font-size:11px;">(–Ω–µ—Ç –∑–∞–º–µ—Ç–æ–∫)</li>'; return; }
      listEl.innerHTML = arr.map((n,i)=>`<li><span class="inline-badge">NOTE</span><span class="note-text">${n.text}</span><button class="x-btn" title="–£–¥–∞–ª–∏—Ç—å" onclick="deleteNote(${day},${i})">‚úï</button></li>`).join('');
    }
    function addLink(day){
      const t = document.getElementById('linkTitle'+day);
      const u = document.getElementById('linkUrl'+day);
      const title = (t.value||'–°—Å—ã–ª–∫–∞').trim();
      const url = (u.value||'').trim();
      if(!/^https?:\/\//i.test(url)){ alert('–£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL (http/https).'); return; }
      if(!attachmentsState[day]) attachmentsState[day] = { links: [], files: [] };
      attachmentsState[day].links.push({ title: escapeHTML(title), url: url });
      saveAttachments();
      t.value=''; u.value='';
      // –ø–µ—Ä–µ—Ä–∏—Å—É–µ–º —Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–æ–∫
      renderUserLinks(day);
      updateMaterialBadge(day);
    }
    function deleteLink(day, idx){ if(!attachmentsState[day]) return; attachmentsState[day].links.splice(idx,1); saveAttachments(); renderUserLinks(day); updateMaterialBadge(day); }
    function handleFileUpload(day, input){
      const files = Array.from(input.files||[]);
      if(!files.length) return;
      if(!attachmentsState[day]) attachmentsState[day] = { links: [], files: [] };
      const MAX_SIZE = 200 * 1024; // 200KB per file
      let warn = [];
      let readCount = 0;
      files.forEach(file => {
        if(file.size > MAX_SIZE){ warn.push(file.name); return; }
        const reader = new FileReader();
        reader.onload = e => {
          attachmentsState[day].files.push({ name: escapeHTML(file.name), data: e.target.result, size: file.size });
          readCount++;
          if(readCount === files.filter(f=>f.size<=MAX_SIZE).length){ saveAttachments(); renderUserFiles(day); updateMaterialBadge(day); }
        };
        reader.readAsDataURL(file);
      });
      if(warn.length) alert('–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–µ–≤—ã—à–∞—é—Ç –ª–∏–º–∏—Ç 200KB –∏ –Ω–µ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã: '+warn.join(', '));
      input.value='';
    }
    function deleteFile(day, idx){ if(!attachmentsState[day]) return; attachmentsState[day].files.splice(idx,1); saveAttachments(); renderUserFiles(day); updateMaterialBadge(day); }
    function bytesToKB(b){ return (b/1024).toFixed(1)+' KB'; }
    function escapeHTML(str){ return str.replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c]||c)); }
    function renderUserLinks(day){
      const ul = document.querySelector(`#userLinks${day}`); if(!ul) return;
      const list = (attachmentsState[day]?.links)||[];
  ul.innerHTML = list.map((l,i)=>`<li><span class="inline-badge">LINK</span><a href="${l.url}" target="_blank">${l.title}</a><button class="x-btn" onclick="deleteLink(${day},${i})" title="–£–¥–∞–ª–∏—Ç—å">‚úï</button></li>`).join('');
    }
    function renderUserFiles(day){
      const ul = document.querySelector(`#userFiles${day}`); if(!ul) return;
      const list = (attachmentsState[day]?.files)||[];
  ul.innerHTML = list.map((f,i)=>`<li><span class="inline-badge">FILE</span><a download="${f.name}" href="${f.data}">${f.name}</a><span class="file-size">${bytesToKB(f.size)}</span><button class="x-btn" onclick="deleteFile(${day},${i})" title="–£–¥–∞–ª–∏—Ç—å">‚úï</button></li>`).join('');
    }
    // --- –ü–æ–¥–∑–∞–¥–∞—á–∏ –¥–Ω–µ–π ---
    function generateTemplateSubtasks(dayObj){
      const title = (dayObj.title||'').toLowerCase();
      const task = (dayObj.task||'').toLowerCase();
      const rawPieces = (dayObj.task||'')
        .split(/[.;]+/)
        .map(s=>s.trim())
        .filter(s=>s.length>4);
      const subtasks = [];
      const push = t => { if(t && !subtasks.includes(t)) subtasks.push(t); };

      // –û–±—â–∏–µ –±–∞–∑–æ–≤—ã–µ —à–∞–≥–∏
      push('–ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ç–µ–æ—Ä–∏—é/–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —Ç–µ–º–µ');
      push('–°–¥–µ–ª–∞—Ç—å –∫—Ä–∞—Ç–∫–∏–π –∫–æ–Ω—Å–ø–µ–∫—Ç (5‚Äì7 –ø—É–Ω–∫—Ç–æ–≤)');

      // –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
      if(/internet|dns|–±—Ä–∞—É–∑–µ—Ä|http/.test(task+title)){
        push('–ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å —Å—Ö–µ–º—É: –∫–ª–∏–µ–Ω—Ç ‚Üí DNS ‚Üí —Å–µ—Ä–≤–µ—Ä ‚Üí –æ—Ç–≤–µ—Ç');
        push('–û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Network –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å 3 –∑–∞–ø—Ä–æ—Å–∞');
      }
      if(/git|–≤–µ—Ç–∫|branch|pull|merge/.test(task+title)){
        push('–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –≤–µ—Ç–∫—É –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å merge —á–µ—Ä–µ–∑ PR');
        push('–†–∞–∑—Ä–µ—à–∏—Ç—å (—Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å) –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å–ª–∏—è–Ω–∏—è');
      }
      if(/—Ñ–æ—Ä–º|form/.test(task+title)){
        push('–°–≤–µ—Ä—Å—Ç–∞—Ç—å —Ñ–æ—Ä–º—É —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π HTML-–∞—Ç—Ä–∏–±—É—Ç–∞–º–∏');
        push('–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ–∫—É—Å –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (Tab-–Ω–∞–≤–∏–≥–∞—Ü–∏—è)');
      }
      if(/flex|grid/.test(task+title)){
        push('–ü–µ—Ä–µ—Å—Ç—Ä–æ–∏—Ç—å –º–∞–∫–µ—Ç –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–π (<600px)');
        push('–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö');
      }
      if(/sass|scss/.test(task+title)){
        push('–í—ã–Ω–µ—Å—Ç–∏ —Ü–≤–µ—Ç–∞ –∏ —Ä–∞–∑–º–µ—Ä—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ');
        push('–†–∞–∑–±–∏—Ç—å —Å—Ç–∏–ª–∏ –Ω–∞ partials –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö');
      }
      if(/javascript|–ø–µ—Ä–µ–º–µ–Ω–Ω|—Ñ—É–Ω–∫—Ü|–º–∞—Å—Å–∏–≤|–æ–±—ä–µ–∫—Ç|json/.test(task+title)){
        push('–ù–∞–ø–∏—Å–∞—Ç—å –º–∏–Ω–∏–º—É–º 3 –º–∏–Ω–∏-–ø—Ä–∏–º–µ—Ä–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏');
        push('–û–±—ä—è—Å–Ω–∏—Ç—å –≤—Å–ª—É—Ö —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä');
      }
      if(/promise|async|await|fetch/.test(task+title)){
        push('–°–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å fetch –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏');
        push('–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ø—Ä–∏–º–µ—Ä –Ω–∞ async/await');
      }
      if(/react|jsx|hook|context|state/.test(task+title)){
        push('–°–æ–∑–¥–∞—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (50-70 —Å—Ç—Ä–æ–∫) –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏');
        push('–î–æ–±–∞–≤–∏—Ç—å –º–∏–Ω–∏–º—É–º 1 –ø—Ä–æ–≤–µ—Ä–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏—è/—É—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä');
      }
      if(/typescript|ts/.test(task+title)){
        push('–ó–∞–º–µ–Ω–∏—Ç—å any –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø');
        push('–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ type –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö');
      }
      if(/test|jest|cypress|rtl/.test(task+title)){
        push('–ù–∞–ø–∏—Å–∞—Ç—å 1 –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π –∏ 1 –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç');
        push('–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–∞–¥–∞—é—â–∏–π —Ç–µ—Å—Ç –∏ –ø–æ—á–∏–Ω–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É');
      }
      if(/performance|–æ–ø—Ç–∏–º–∏–∑–∞—Ü|lighthouse|pwa/.test(task+title)){
        push('–°–¥–µ–ª–∞—Ç—å –∑–∞–º–µ—Ä Lighthouse –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π');
        push('–ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏');
      }
      if(/git hub actions|ci|cd|docker/.test(task+title)){
        push('–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π workflow build+test');
        push('–î–æ–±–∞–≤–∏—Ç—å –±–µ–π–¥–∂ —Å—Ç–∞—Ç—É—Å–∞ –≤ README');
      }
      if(/–ø—Ä–æ–µ–∫—Ç|spa|–±–ª–æ–≥|–º–∞–≥–∞–∑–∏–Ω|—Ä–µ–∞–ª-?time|—á–∞—Ç|final|–∏—Ç–æ–≥/i.test(task+title)){
        push('–°—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å 3 –±–ª–∏–∂–∞–π—à–∏—Ö —à–∞–≥–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç—É');
        push('–°–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç —Å –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º');
      }

      // –ò–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ task –≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ–º –≥–ª–∞–≥–æ–ª—ã –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–¥–∞–Ω–∏—è ¬´–°–¥–µ–ª–∞—Ç—å ...¬ª
      rawPieces.forEach(p=>{
        const low = p.toLowerCase();
        if(/–ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä|—Ä–∞–∑–±–æ—Ä|–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å/.test(low)) push('–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏');
        if(/—Å–æ–∑–¥–∞|—Å–¥–µ–ª–∞|—Ä–µ–∞–ª–∏–∑|–æ–ø—Ç–∏–º–∏–∑|–¥–æ–±–∞–≤|–ø–µ—Ä–µ–Ω–µ—Å|–ø–µ—Ä–µ–ø–∏—Å/.test(low)) push('–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏-–≤–µ—Ä—Å–∏—é –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ');
      });

      // –§–∏–Ω–∞–ª—å–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏
      push('–ü–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–∏: 2-3 –≤—ã–≤–æ–¥–∞ –≤ –∑–∞–º–µ—Ç–∫–∞—Ö');

      return subtasks.slice(0,8);
    }
    function ensureSubtasks(dayObj){
      const generated = generateTemplateSubtasks(dayObj);
      if(!subtasksState[dayObj.day]){
        subtasksState[dayObj.day] = generated.map(t=>({text:t, done:false, system:true}));
        if(generated.length) saveSubtasks();
        return;
      }
      let changed = false;
      // –ú–∏–≥—Ä–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å system –≥–¥–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
      subtasksState[dayObj.day] = subtasksState[dayObj.day].map(item => {
        if(item.system === undefined){
          const isSystem = generated.some(g => g === item.text);
            if(isSystem){ item.system = true; changed = true; }
            else { item.system = false; changed = true; }
        }
        return item;
      });
      // –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ
      generated.forEach(t => {
        if(!subtasksState[dayObj.day].some(it => it.text === t)){
          subtasksState[dayObj.day].push({ text: t, done:false, system:true });
          changed = true;
        }
      });
      if(changed) saveSubtasks();
    }
    function renderSubtasks(day){
      const wrap = document.getElementById('subtasks'+day); if(!wrap) return;
      const list = subtasksState[day]||[];
  const ul = wrap.querySelector('.subtask-list'); if(!ul) return;
  ul.innerHTML = list.map((s,i)=>`<li class="subtask-item ${s.done?'done':''}"><input type="checkbox" ${s.done?'checked':''} onchange="toggleSubtask(${day},${i})"><div class="subtask-box"><span>${s.text}</span>${s.system?'<span class="sys-badge" title="–°–∏—Å—Ç–µ–º–Ω–∞—è –ø–æ–¥–∑–∞–¥–∞—á–∞">SYS</span>':`<button aria-label="–£–¥–∞–ª–∏—Ç—å" title="–£–¥–∞–ª–∏—Ç—å –ø–æ–¥–∑–∞–¥–∞—á—É" onclick="deleteSubtask(${day},${i})">‚úï</button>`}</div></li>`).join('');
  updateSubtaskProgress(day);
    }
    function toggleSubtask(day, idx){ const arr = subtasksState[day]; if(!arr) return; arr[idx].done = !arr[idx].done; saveSubtasks(); renderSubtasks(day); }
    function addSubtask(day){ const input = document.getElementById('newSubtask'+day); if(!input) return; const val = input.value.trim(); if(!val) return; if(!subtasksState[day]) subtasksState[day]=[]; subtasksState[day].push({text:val, done:false}); saveSubtasks(); input.value=''; renderSubtasks(day); }
  function deleteSubtask(day, idx){ if(!subtasksState[day]) return; if(subtasksState[day][idx]?.system) return; subtasksState[day].splice(idx,1); saveSubtasks(); renderSubtasks(day); }
  function updateSubtaskProgress(day){ const btn = document.getElementById('subtasksToggle'+day); const prog = document.getElementById('subtasksProg'+day); if(!btn || !prog) return; const list = subtasksState[day]||[]; const total = list.length; const done = list.filter(s=>s.done).length; prog.textContent = `${done}/${total}`; }
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–π–¥–∂–µ–π –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–∞ –∫–Ω–æ–ø–∫–µ
    function updateMaterialBadge(day){
      const btn = document.getElementById('mtgl'+day); if(!btn) return;
      const linksCount = (attachmentsState[day]?.links?.length)||0;
      const filesCount = (attachmentsState[day]?.files?.length)||0;
      const noteActive = Array.isArray(notesState[day]) ? notesState[day].length>0 : (typeof notesState[day]==='string' && notesState[day].trim().length>0);
      const isOpen = !!extraOpen[day];
      btn.innerHTML = `<span class="arrow">‚ñ∂</span>${isOpen? ' –°–∫—Ä—ã—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã':' –ú–∞—Ç–µ—Ä–∏–∞–ª—ã'}<span class="mat-badges">`
        + (linksCount? `<span class=\"mat-badge link\" title=\"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫\">üîó ${linksCount}</span>`:'')
        + (filesCount? `<span class=\"mat-badge file\" title=\"–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤\">üìÅ ${filesCount}</span>`:'')
        + (noteActive? `<span class=\"mat-badge note\" title=\"–ó–∞–º–µ—Ç–æ–∫\">üìù ${Array.isArray(notesState[day])? notesState[day].length:1}</span>`:'')
        + `</span>`;
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã
    function initTheme() {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) {
        document.body.setAttribute('data-theme', savedTheme);
      } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.setAttribute('data-theme', 'dark');
      } else {
        document.body.setAttribute('data-theme', 'light');
      }
    }

    function toggleTheme() {
      const currentTheme = document.body.getAttribute('data-theme') || 'dark';
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      document.body.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
    }

    // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
    if (window.matchMedia) {
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
        if (!localStorage.getItem('theme')) {
          document.body.setAttribute('data-theme', e.matches ? 'dark' : 'light');
        }
      });
    }

    function save(){ localStorage.setItem('frontendPlan', JSON.stringify(state)); scheduleCloudUpload(); }

    function toggle(day) {
      state[day] = !state[day];
      save();
      updateStats();
      render();
    }

    function updateStats() {
      let done = Object.keys(state).filter(k => state[k]).length;
      let left = 196 - done;
      let pct = Math.round((done / 196) * 100);

      document.getElementById('done').textContent = done;
      document.getElementById('left').textContent = left;
      document.getElementById('pct').textContent = pct + '%';

      const bar = document.getElementById('bar');
      bar.style.width = pct + '%';
      bar.textContent = pct + '%';
    }

    // --- –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–ø–∏—Å–∫–æ–≤ ---
    let openState = { months: [], weeks: [] };
    if (localStorage.getItem('frontendOpenState')) {
      try {
        openState = JSON.parse(localStorage.getItem('frontendOpenState')) || { months: [], weeks: [] };
      } catch (e) {
        openState = { months: [], weeks: [] };
      }
    }

    function saveOpenState() {
      localStorage.setItem('frontendOpenState', JSON.stringify(openState));
    }

    function buildExtraLinks(day) {
      const base = [...(day.links || [])];
      const text = (day.title + ' ' + day.task).toLowerCase();
      keywordLinkGroups.forEach(group => {
        if (group.match.test(text)) {
          group.links.forEach(l => { if (!base.includes(l)) base.push(l); });
        }
      });
      return base;
    }

    // --- –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –¥–Ω–µ–π –¥–ª—è —Å–≤–æ–¥–∫–∏ ---
    function categorizeDay(day){
      const txt = (day.title + ' ' + day.task).toLowerCase();
      if(/internet|dns|http|–±—Ä–∞—É–∑–µ—Ä/.test(txt)) return '–°–µ—Ç—å';
      if(/html|—Å–µ–º–∞–Ω—Ç–∏–∫|—Ñ–æ—Ä–º–∞|–≤–∞–ª–∏–¥/i.test(txt)) return 'HTML';
      if(/css|flex|grid|sass|scss|tailwind|bootstrap/.test(txt)) return 'CSS';
      if(/javascript|–ø–µ—Ä–µ–º–µ–Ω–Ω|—Ñ—É–Ω–∫—Ü|–º–∞—Å—Å–∏–≤|–æ–±—ä–µ–∫—Ç|json|async|promise|fetch/.test(txt)) return 'JS';
      if(/react|jsx|hook|context|router|next\.js|nextjs/.test(txt)) return 'React/Next';
      if(/typescript|ts/.test(txt)) return 'TypeScript';
      if(/graphql/.test(txt)) return 'GraphQL';
      if(/test|jest|cypress|rtl/.test(txt)) return '–¢–µ—Å—Ç—ã';
      if(/docker|ci|github actions|workflow/.test(txt)) return 'CI/CD';
      if(/performance|lighthouse|pwa|a11y|accessibility/.test(txt)) return 'Perf/A11y';
      if(/–ø—Ä–æ–µ–∫—Ç|spa|–±–ª–æ–≥|–º–∞–≥–∞–∑–∏–Ω|final|–∏—Ç–æ–≥|project/.test(txt)) return '–ü—Ä–æ–µ–∫—Ç';
      return '–ü—Ä–æ—á–µ–µ';
    }

    function collectCategoryStats(){
      const stats = {};
      plan.forEach(m => m.weeks.forEach(w => w.days.forEach(d => {
        const cat = categorizeDay(d);
        if(!stats[cat]) stats[cat] = { total:0, done:0 };
        stats[cat].total++;
        if(state[d.day]) stats[cat].done++;
      })));
      return stats;
    }

    function renderCategorySummary(){
      const holder = document.getElementById('categoriesSummary'); if(!holder) return;
      const stats = collectCategoryStats();
      const entries = Object.entries(stats).sort((a,b)=>a[0].localeCompare(b[0],'ru'));
      holder.innerHTML = entries.map(([cat,data])=>{
        const pct = data.total? Math.round(data.done/data.total*100):0;
        return `<div class="cat-card${pct===100?' highlight':''}"><h4>${cat}</h4><div class="cat-metric">${data.done}/${data.total}</div><div class="cat-bar"><span style="width:${pct}%"></span></div><div class="cat-pct">${pct}%</div></div>`;
      }).join('');
    }

    // --- Weekly progress bars ---
    function injectWeekProgress(){
      document.querySelectorAll('.week').forEach(weekEl => {
        const header = weekEl.querySelector('.week-header');
        if(!header) return;
        const daysBlock = weekEl.querySelector('.days');
        const spans = header.querySelectorAll('span');
        const progressText = spans[spans.length-1]?.textContent||''; // x/y
        const match = progressText.match(/(\d+)\/(\d+)/);
        if(!match) return;
        const done = +match[1]; const total = +match[2];
        const pct = total? Math.round(done/total*100):0;
        let bar = weekEl.querySelector('.week-progress');
        if(!bar){
          bar = document.createElement('div');
          bar.className='week-progress';
          bar.dataset.label = pct + '%';
          const fill = document.createElement('span');
          bar.appendChild(fill);
          daysBlock.parentNode.insertBefore(bar, daysBlock);
          requestAnimationFrame(()=>{ fill.style.width = pct+'%'; });
        } else {
          bar.dataset.label = pct + '%';
          const fill = bar.querySelector('span');
          fill.style.width = pct+'%';
        }
      });
    }

    // --- –≠–∫—Å–ø–æ—Ä—Ç / –∏–º–ø–æ—Ä—Ç ---
    function exportData(){
      const payload = {
        version: 1,
        exportedAt: new Date().toISOString(),
        state, notesState, attachmentsState, subtasksState, extraOpen, openState, sectionOpen, theme: document.body.getAttribute('data-theme')
      };
      const blob = new Blob([JSON.stringify(payload,null,2)], {type:'application/json'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'frontend-tracker-backup.json';
      document.body.appendChild(a); a.click(); a.remove();
    }
    function handleImport(input){
      const file = input.files[0]; if(!file) return; const reader = new FileReader();
      reader.onload = e => {
        try {
          const data = JSON.parse(e.target.result);
          if(!data || typeof data !== 'object') throw new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç');
          if(data.state) state = data.state;
          if(data.notesState) notesState = data.notesState;
          if(data.attachmentsState) attachmentsState = data.attachmentsState;
            if(data.subtasksState) subtasksState = data.subtasksState;
          if(data.extraOpen) extraOpen = data.extraOpen;
          if(data.openState) openState = data.openState;
          if(data.sectionOpen) sectionOpen = data.sectionOpen;
          if(data.theme) { document.body.setAttribute('data-theme', data.theme); localStorage.setItem('theme', data.theme); }
          save(); saveNotes(); saveAttachments(); saveSubtasks(); saveExtraOpen(); saveOpenState(); saveSectionOpen();
          updateStats(); render();
          alert('–ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à—ë–Ω —É—Å–ø–µ—à–Ω–æ');
        } catch(err){ alert('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: '+err.message); }
        input.value='';
      };
      reader.readAsText(file);
    }

    // --- –û—Ü–µ–Ω–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è localStorage ---
    function estimateStorageUsage(){
      let total = 0; for(let i=0;i<localStorage.length;i++){ const k = localStorage.key(i); const v = localStorage.getItem(k); total += (k.length + v.length); }
      // localStorage –æ–±—ã—á–Ω–æ ~5MB per origin. –í–æ–∑—å–º—ë–º 5*1024*1024 ‚âà 5242880 bytes.
      const limit = 5 * 1024 * 1024;
      const pct = Math.min(100, Math.round(total / limit * 100));
      const bar = document.getElementById('storageUsageBar'); const pctEl = document.getElementById('storageUsagePct');
      if(bar){ bar.style.width = pct + '%'; }
      if(pctEl){ pctEl.textContent = pct + '%'; pctEl.style.color = pct>80? '#f87171' : pct>60? '#fbbf24' : 'var(--text-secondary)'; }
    }

    function render() {
      const html = plan.map(month => {
        const monthProgress = `${month.weeks.reduce((s, w) => s + w.days.filter(d => state[d.day]).length, 0)}/${month.weeks.reduce((s, w) => s + w.days.length, 0)}`;
        const monthTasks = buildMonthTasks(month);
        return `
        <div class="month">
          <div class="month-header" onclick="toggleMonth(${month.month})">
            <span class="month-title">${month.title}</span>
            <span>${monthProgress}</span>
          </div>
          <div id="month${month.month}" class="${openState.months.includes(month.month) ? '' : 'collapsed'}">
            <div class="month-objectives">
              <div class="mo-goal"><strong>–¶–µ–ª—å –º–µ—Å—è—Ü–∞:</strong> ${monthMeta[month.month]?.goal||''}</div>
              <ul class="mo-tasks">${monthTasks.map(t=>`<li>${t}</li>`).join('')}</ul>
            </div>
            ${month.weeks.map(week => {
          const weekProgress = `${week.days.filter(d => state[d.day]).length}/${week.days.length}`;
          const weekTasks = buildWeekTasks(week);
          return `
              <div class="week">
                <div class="week-header" onclick="toggleWeek(${week.week})">
                  <span>${week.title}</span>
                  <span>${weekProgress}</span>
                </div>
                <div class="week-objectives">
                  <div class="wg-goal"><strong>–¶–µ–ª—å –Ω–µ–¥–µ–ª–∏:</strong> ${weekDescriptions[week.week]||''}</div>
                  <ul class="wg-tasks">${weekTasks.map(t=>`<li>${t}</li>`).join('')}</ul>
                </div>
                <div id="week${week.week}" class="days ${openState.weeks.includes(week.week) ? '' : 'collapsed'}">
                  ${week.days.map(day => {
            const effectiveLinks = buildExtraLinks(day);
            const dayGoal = buildDayGoal(day);
            const dayTasks = buildDayTasks(day);
            return `
                    <div class="day ${state[day.day] ? 'done' : ''}" data-day="${day.day}">
                      <div class="day-header">
                        <input type="checkbox" ${state[day.day] ? 'checked' : ''} onchange="toggle(${day.day})">
                        <div class="day-info">
                          <div class="day-title">
                            –î–µ–Ω—å ${day.day}: ${day.title}
                            <span class="day-time">${day.time}</span>
                          </div>
                          <div class="day-goal-line"><strong>–¶–µ–ª—å:</strong> ${dayGoal}</div>
                          ${dayTasks.length ? `<ul class="day-tasks-list">${dayTasks.map(t=>`<li>${t}</li>`).join('')}</ul>`:''}
                          <div class="day-task">${day.task}</div>
                          ${effectiveLinks.length ? `
                            <div class="day-resources">
                              ${effectiveLinks.map(l => {
              const [title, url] = l.split('||');
              return `<a href=\"${url}\" target=\"_blank\">üìö ${title}</a>`;
            }).join('')}
                            </div>
                          ` : ''}
                          <div class="day-extra" id="extra${day.day}">
                            <div class="day-subtasks" id="subtasks${day.day}">
                              <button type="button" id="subtasksToggle${day.day}" class="section-toggle" onclick="toggleSection(${day.day},'subtasks')">–ü–æ–¥–∑–∞–¥–∞—á–∏ <span class="st-progress" id="subtasksProg${day.day}"></span></button>
                              <div class="section-body" id="subtasksBody${day.day}">
                                <ul class="subtask-list"></ul>
                                <div class="add-subtask">
                                  <input id="newSubtask${day.day}" placeholder="–ù–æ–≤–∞—è –ø–æ–¥–∑–∞–¥–∞—á–∞...">
                                  <button type="button" onclick="addSubtask(${day.day})">–î–æ–±–∞–≤–∏—Ç—å</button>
                                </div>
                              </div>
                            </div>
                            <div class="note-block" id="note${day.day}">
                              <button type="button" id="notesToggle${day.day}" class="section-toggle" onclick="toggleSection(${day.day},'notes')">–ó–∞–º–µ—Ç–∫–∏</button>
                              <div class="section-body" id="notesBody${day.day}">
                                <input type="text" id="noteInput${day.day}" placeholder="–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É –∏ Enter" style="width:100%;padding:8px 10px;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-secondary);color:var(--text-primary);font-size:12px;" onkeydown="if(event.key==='Enter'){addNote(${day.day}, this.value); this.value=''; event.preventDefault();}">
                                <ul id="notesList${day.day}" style="list-style:none;margin:8px 0 0;padding:0;display:flex;flex-direction:column;gap:6px;"></ul>
                              </div>
                            </div>
                            <div class="attachments-block" id="attachments${day.day}">
                              <button type="button" id="attachmentsToggle${day.day}" class="section-toggle" onclick="toggleSection(${day.day},'attachments')">–§–∞–π–ª—ã –∏ —Å—Å—ã–ª–∫–∏</button>
                              <div class="section-body" id="attachmentsBody${day.day}">
                                <div class="attach-links">
                                  <input type="text" id="linkTitle${day.day}" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ">
                                  <input type="url" id="linkUrl${day.day}" placeholder="https://—Å—Å—ã–ª–∫–∞...">
                                  <button type="button" onclick="addLink(${day.day})">+</button>
                                </div>
                                <ul class="user-links" id="userLinks${day.day}"></ul>
                                <div class="attach-files file-wrapper">
                                  <label class="file-btn" for="fileInput${day.day}">üìÅ –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã</label>
                                  <input id="fileInput${day.day}" type="file" multiple onchange="handleFileUpload(${day.day}, this)" title="–î–æ 200KB –Ω–∞ —Ñ–∞–π–ª">
                                  <span class="attach-hint">–õ–∏–º–∏—Ç 200KB/—Ñ–∞–π–ª (—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage).</span>
                                </div>
                                <ul class="user-files" id="userFiles${day.day}"></ul>
                              </div>
                            </div>
                          </div>
                          <div id="materialsToggle${day.day}">
                            <button id="mtgl${day.day}" class="materials-toggle ${extraOpen[day.day] ? 'open':''}" type="button" onclick="toggleExtra(${day.day})"><span class="arrow">‚ñ∂</span>${extraOpen[day.day] ? ' –°–∫—Ä—ã—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã' : ' –ú–∞—Ç–µ—Ä–∏–∞–ª—ã'}<span class="mat-badges"></span></button>
                          </div>
                        </div>
                      </div>
                    </div>`;
          }).join('')}
                </div>
              </div>`;
        }).join('')}
          </div>
        </div>`;
      }).join('');

      document.getElementById('content').innerHTML = html;
      applyFilter();
      // –ü–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏/—Ñ–∞–π–ª—ã –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
  Object.keys(attachmentsState).forEach(day => { renderUserLinks(day); renderUserFiles(day); });
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–Ω–¥–µ—Ä –ø–æ–¥–∑–∞–¥–∞—á (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑)
  plan.forEach(m => m.weeks.forEach(w => w.days.forEach(d => { ensureSubtasks(d); renderSubtasks(d.day); })));
  // –û–±–Ω–æ–≤–∏–º –±–µ–π–¥–∂–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤
  plan.forEach(m => m.weeks.forEach(w => w.days.forEach(d => updateMaterialBadge(d.day))));
      // –°–∫—Ä—ã–≤–∞–µ–º/–ø–æ–∫–∞–∑—ã–≤–∞–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
      plan.forEach(m => m.weeks.forEach(w => w.days.forEach(d => {
        const container = document.getElementById('extra'+d.day);
        if(container){ if(!extraOpen[d.day]) container.classList.add('collapsed'); }
        // –ü—Ä–∏–º–µ–Ω–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ–∫—Ü–∏–π
        ensureSectionDefaults(d.day);
        ['subtasks','notes','attachments'].forEach(sec => applySectionState(d.day, sec));
        renderNotes(d.day);
      })));
      // –ö–æ–ª—å—Ü–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –º–µ—Å—è—Ü–µ–≤ (–≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ DOM)
      document.querySelectorAll('.month').forEach(monthEl => {
        const header = monthEl.querySelector('.month-header');
        if(!header) return;
        const textSpan = header.querySelector('span:last-child');
        if(!textSpan) return;
        const match = textSpan.textContent.match(/(\d+)\/(\d+)/);
        if(!match) return;
        const done = +match[1]; const total = +match[2];
        const pct = total ? Math.round(done/total*100) : 0;
        if(!header.querySelector('.month-ring')){
          const ring = document.createElement('div');
          ring.className='month-ring';
          ring.style.setProperty('--p', pct);
          ring.innerHTML = '<span>'+pct+'%</span>';
          header.insertBefore(ring, header.firstChild);
        } else {
          const ring = header.querySelector('.month-ring');
          ring.style.setProperty('--p', pct);
          ring.innerHTML = '<span>'+pct+'%</span>';
        }
      });
      injectWeekProgress();
      renderCategorySummary();
      estimateStorageUsage();
    }

    function toggleMonth(m) {
      const idx = openState.months.indexOf(m);
      if (idx === -1) {
        openState.months.push(m);
      } else {
        openState.months.splice(idx, 1);
      }
      // –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –º–µ—Å—è—Ü–∞ –∑–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –µ–≥–æ –Ω–µ–¥–µ–ª–∏
      if (openState.months.indexOf(m) === -1) {
        const monthObj = plan.find(mon => mon.month === m);
        if (monthObj) {
          monthObj.weeks.forEach(w => {
            const wIdx = openState.weeks.indexOf(w.week);
            if (wIdx !== -1) openState.weeks.splice(wIdx, 1);
          });
        }
      }
      saveOpenState();
      render();
    }

    function toggleWeek(w) {
      const idx = openState.weeks.indexOf(w);
      if (idx === -1) {
        openState.weeks.push(w);
      } else {
        openState.weeks.splice(idx, 1);
      }
      saveOpenState();
      render();
    }

    function filter(type) {
      currentFilter = type;
      document.querySelectorAll('.btn-filter').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
      applyFilter();
    }

    function resetFilter(){ currentFilter='all'; document.querySelectorAll('.btn-filter').forEach(b=>b.classList.remove('active')); document.querySelector('.btn-filter[onclick="filter('+'\'all\''+')"]')?.classList.add('active'); applyFilter(); }

    function scrollToNextIncomplete(){
      const visibleDays = Array.from(document.querySelectorAll('.day')).filter(d=>d.style.display !== 'none');
      const next = visibleDays.find(d => !state[d.dataset.day]);
      if(next){ next.scrollIntoView({behavior:'smooth', block:'center'}); next.classList.add('highlight-temp'); setTimeout(()=>next.classList.remove('highlight-temp'),1500); }
      else { alert('–í—Å–µ –≤–∏–¥–∏–º—ã–µ –¥–Ω–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã üéâ'); }
    }
    function expandAll(){ openState.months = plan.map(m=>m.month); openState.weeks = plan.flatMap(m=>m.weeks.map(w=>w.week)); saveOpenState(); render(); }
    function collapseAll(){ openState.months = []; openState.weeks = []; saveOpenState(); render(); }

    function applyFilter() {
      document.querySelectorAll('.day').forEach(day => {
        const dayNum = day.dataset.day;
        const done = state[dayNum];
        let show = currentFilter === 'all' ||
          (currentFilter === 'done' && done) ||
          (currentFilter === 'todo' && !done);
        day.style.display = show ? 'block' : 'none';
      });
    }

    function reset() {
      if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è?')) {
        state = {};
        save();
        updateStats();
        render();
      }
    }

    document.getElementById('search').oninput = (e) => {
      const term = e.target.value.toLowerCase();
      document.querySelectorAll('.day').forEach(day => {
        const match = day.textContent.toLowerCase().includes(term);
        day.style.display = match ? 'block' : 'none';
      });
    };

    updateStats();
    render();
    if(typeof updateCloudUI === 'function') updateCloudUI();
  </script>
</body>

</html>
